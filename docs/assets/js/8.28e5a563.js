(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{614:function(t,e,n){var i=n(1),r=n(128),o=i.TypeError;t.exports=function(t,e){if(r(e,t))return t;throw o("Incorrect invocation")}},621:function(t,e,n){"use strict";var i=n(3),r=n(1),o=n(130),a=n(88),s=n(40),h=n(23),c=n(219),u=n(70),f=n(94)("splice"),l=r.TypeError,p=Math.max,d=Math.min;i({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var n,i,r,f,g,v,m=h(this),y=s(m),w=o(t,y),b=arguments.length;if(0===b?n=i=0:1===b?(n=0,i=y-w):(n=b-2,i=d(p(a(e),0),y-w)),y+n-i>9007199254740991)throw l("Maximum allowed length exceeded");for(r=c(m,i),f=0;f<i;f++)(g=w+f)in m&&u(r,f,m[g]);if(r.length=i,n<i){for(f=w;f<y-i;f++)v=f+n,(g=f+i)in m?m[v]=m[g]:delete m[v];for(f=y;f>y-i+n;f--)delete m[f-1]}else if(n>i)for(f=y-i;f>w;f--)v=f+n-1,(g=f+i-1)in m?m[v]=m[g]:delete m[v];for(f=0;f<n;f++)m[f+w]=arguments[f+2];return m.length=y-i+n,r}})},622:function(t,e,n){var i=n(4);t.exports=i(1..valueOf)},623:function(t,e,n){var i=n(50);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},640:function(t,e,n){var i=n(5),r=n(6),o=n(68),a=r("iterator");t.exports=!i((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,i){e.delete("b"),n+=i+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},641:function(t,e,n){"use strict";n(345);var i=n(3),r=n(1),o=n(35),a=n(13),s=n(4),h=n(640),c=n(50),u=n(623),f=n(89),l=n(344),p=n(64),d=n(614),g=n(7),v=n(12),m=n(207),y=n(91),w=n(11),b=n(10),S=n(21),x=n(41),C=n(69),k=n(338),z=n(211),O=n(6),P=n(726),I=O("iterator"),R=p.set,A=p.getterFor("URLSearchParams"),E=p.getterFor("URLSearchParamsIterator"),L=o("fetch"),T=o("Request"),H=o("Headers"),W=T&&T.prototype,_=H&&H.prototype,j=r.RegExp,$=r.TypeError,F=r.decodeURIComponent,D=r.encodeURIComponent,U=s("".charAt),M=s([].join),B=s([].push),q=s("".replace),N=s([].shift),X=s([].splice),G=s("".split),Y=s("".slice),J=/\+/g,Q=Array(4),K=function(t){return Q[t-1]||(Q[t-1]=j("((?:%[\\da-f]{2}){"+t+"})","gi"))},V=function(t){try{return F(t)}catch(e){return t}},Z=function(t){var e=q(t,J," "),n=4;try{return F(e)}catch(t){for(;n;)e=q(e,K(n--),V);return e}},tt=/[!'()~]|%20/g,et={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},nt=function(t){return et[t]},it=function(t){return q(D(t),tt,nt)},rt=function(t,e){if(t<e)throw $("Not enough arguments")},ot=l((function(t,e){R(this,{type:"URLSearchParamsIterator",iterator:k(A(t).entries),kind:e})}),"Iterator",(function(){var t=E(this),e=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value="keys"===e?i.key:"values"===e?i.value:[i.key,i.value]),n}),!0),at=function(t){this.entries=[],this.url=null,void 0!==t&&(b(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===U(t,0)?Y(t,1):t:S(t)))};at.prototype={type:"URLSearchParams",bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,i,r,o,s,h,c=z(t);if(c)for(n=(e=k(t,c)).next;!(i=a(n,e)).done;){if(o=(r=k(w(i.value))).next,(s=a(o,r)).done||(h=a(o,r)).done||!a(o,r).done)throw $("Expected sequence with length 2");B(this.entries,{key:S(s.value),value:S(h.value)})}else for(var u in t)v(t,u)&&B(this.entries,{key:u,value:S(t[u])})},parseQuery:function(t){if(t)for(var e,n,i=G(t,"&"),r=0;r<i.length;)(e=i[r++]).length&&(n=G(e,"="),B(this.entries,{key:Z(N(n)),value:Z(M(n,"="))}))},serialize:function(){for(var t,e=this.entries,n=[],i=0;i<e.length;)t=e[i++],B(n,it(t.key)+"="+it(t.value));return M(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var st=function(){d(this,ht);var t=arguments.length>0?arguments[0]:void 0;R(this,new at(t))},ht=st.prototype;if(u(ht,{append:function(t,e){rt(arguments.length,2);var n=A(this);B(n.entries,{key:S(t),value:S(e)}),n.updateURL()},delete:function(t){rt(arguments.length,1);for(var e=A(this),n=e.entries,i=S(t),r=0;r<n.length;)n[r].key===i?X(n,r,1):r++;e.updateURL()},get:function(t){rt(arguments.length,1);for(var e=A(this).entries,n=S(t),i=0;i<e.length;i++)if(e[i].key===n)return e[i].value;return null},getAll:function(t){rt(arguments.length,1);for(var e=A(this).entries,n=S(t),i=[],r=0;r<e.length;r++)e[r].key===n&&B(i,e[r].value);return i},has:function(t){rt(arguments.length,1);for(var e=A(this).entries,n=S(t),i=0;i<e.length;)if(e[i++].key===n)return!0;return!1},set:function(t,e){rt(arguments.length,1);for(var n,i=A(this),r=i.entries,o=!1,a=S(t),s=S(e),h=0;h<r.length;h++)(n=r[h]).key===a&&(o?X(r,h--,1):(o=!0,n.value=s));o||B(r,{key:a,value:s}),i.updateURL()},sort:function(){var t=A(this);P(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=A(this).entries,i=m(t,arguments.length>1?arguments[1]:void 0),r=0;r<n.length;)i((e=n[r++]).value,e.key,this)},keys:function(){return new ot(this,"keys")},values:function(){return new ot(this,"values")},entries:function(){return new ot(this,"entries")}},{enumerable:!0}),c(ht,I,ht.entries,{name:"entries"}),c(ht,"toString",(function(){return A(this).serialize()}),{enumerable:!0}),f(st,"URLSearchParams"),i({global:!0,forced:!h},{URLSearchParams:st}),!h&&g(H)){var ct=s(_.has),ut=s(_.set),ft=function(t){if(b(t)){var e,n=t.body;if("URLSearchParams"===y(n))return e=t.headers?new H(t.headers):new H,ct(e,"content-type")||ut(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),x(t,{body:C(0,S(n)),headers:C(0,e)})}return t};if(g(L)&&i({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return L(t,arguments.length>1?ft(arguments[1]):{})}}),g(T)){var lt=function(t){return d(this,W),new T(t,arguments.length>1?ft(arguments[1]):{})};W.constructor=lt,lt.prototype=W,i({global:!0,forced:!0},{Request:lt})}}t.exports={URLSearchParams:st,getState:A}},713:function(t,e,n){"use strict";n.d(e,"a",(function(){return Vn}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{h(i.next(t))}catch(t){o(t)}}function s(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}h((i=i.apply(t,e||[])).next())}))}function s(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t}var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function u(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var f,l,p=function(t){return t&&t.Math==Math&&t},d=p("object"==typeof globalThis&&globalThis)||p("object"==typeof window&&window)||p("object"==typeof self&&self)||p("object"==typeof c&&c)||function(){return this}()||Function("return this")(),g=function(t){try{return!!t()}catch(t){return!0}},v=!g((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),m=Function.prototype.call,y=m.bind?m.bind(m):function(){return m.apply(m,arguments)},w={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,S={f:b&&!w.call({1:2},1)?function(t){var e=b(this,t);return!!e&&e.enumerable}:w},x=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},C=Function.prototype,k=C.bind,z=C.call,O=k&&k.bind(z),P=k?function(t){return t&&O(z,t)}:function(t){return t&&function(){return z.apply(t,arguments)}},I=P({}.toString),R=P("".slice),A=function(t){return R(I(t),8,-1)},E=d.Object,L=P("".split),T=g((function(){return!E("z").propertyIsEnumerable(0)}))?function(t){return"String"==A(t)?L(t,""):E(t)}:E,H=d.TypeError,W=function(t){if(null==t)throw H("Can't call method on "+t);return t},_=function(t){return T(W(t))},j=function(t){return"function"==typeof t},$=function(t){return"object"==typeof t?null!==t:j(t)},F=function(t){return j(t)?t:void 0},D=function(t,e){return arguments.length<2?F(d[t]):d[t]&&d[t][e]},U=P({}.isPrototypeOf),M=D("navigator","userAgent")||"",B=d.process,q=d.Deno,N=B&&B.versions||q&&q.version,X=N&&N.v8;X&&(l=(f=X.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!l&&M&&(!(f=M.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=M.match(/Chrome\/(\d+)/))&&(l=+f[1]);var G=l,Y=!!Object.getOwnPropertySymbols&&!g((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&G&&G<41})),J=Y&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Q=d.Object,K=J?function(t){return"symbol"==typeof t}:function(t){var e=D("Symbol");return j(e)&&U(e.prototype,Q(t))},V=d.String,Z=d.TypeError,tt=function(t){if(j(t))return t;throw Z(function(t){try{return V(t)}catch(t){return"Object"}}(t)+" is not a function")},et=d.TypeError,nt=Object.defineProperty,it=function(t,e){try{nt(d,t,{value:e,configurable:!0,writable:!0})}catch(n){d[t]=e}return e},rt=d["__core-js_shared__"]||it("__core-js_shared__",{}),ot=u((function(t){(t.exports=function(t,e){return rt[t]||(rt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.2",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),at=d.Object,st=function(t){return at(W(t))},ht=P({}.hasOwnProperty),ct=Object.hasOwn||function(t,e){return ht(st(t),e)},ut=0,ft=Math.random(),lt=P(1..toString),pt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+lt(++ut+ft,36)},dt=ot("wks"),gt=d.Symbol,vt=gt&&gt.for,mt=J?gt:gt&&gt.withoutSetter||pt,yt=function(t){if(!ct(dt,t)||!Y&&"string"!=typeof dt[t]){var e="Symbol."+t;Y&&ct(gt,t)?dt[t]=gt[t]:dt[t]=J&&vt?vt(e):mt(e)}return dt[t]},wt=d.TypeError,bt=yt("toPrimitive"),St=function(t){var e=function(t,e){if(!$(t)||K(t))return t;var n,i,r=null==(n=t[bt])?void 0:tt(n);if(r){if(void 0===e&&(e="default"),i=y(r,t,e),!$(i)||K(i))return i;throw wt("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,i;if("string"===e&&j(n=t.toString)&&!$(i=y(n,t)))return i;if(j(n=t.valueOf)&&!$(i=y(n,t)))return i;if("string"!==e&&j(n=t.toString)&&!$(i=y(n,t)))return i;throw et("Can't convert object to primitive value")}(t,e)}(t,"string");return K(e)?e:e+""},xt=d.document,Ct=$(xt)&&$(xt.createElement),kt=function(t){return Ct?xt.createElement(t):{}},zt=!v&&!g((function(){return 7!=Object.defineProperty(kt("div"),"a",{get:function(){return 7}}).a})),Ot=Object.getOwnPropertyDescriptor,Pt={f:v?Ot:function(t,e){if(t=_(t),e=St(e),zt)try{return Ot(t,e)}catch(t){}if(ct(t,e))return x(!y(S.f,t,e),t[e])}},It=d.String,Rt=d.TypeError,At=function(t){if($(t))return t;throw Rt(It(t)+" is not an object")},Et=d.TypeError,Lt=Object.defineProperty,Tt={f:v?Lt:function(t,e,n){if(At(t),e=St(e),At(n),zt)try{return Lt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Et("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Ht=v?function(t,e,n){return Tt.f(t,e,x(1,n))}:function(t,e,n){return t[e]=n,t},Wt=P(Function.toString);j(rt.inspectSource)||(rt.inspectSource=function(t){return Wt(t)});var _t,jt,$t,Ft=rt.inspectSource,Dt=d.WeakMap,Ut=j(Dt)&&/native code/.test(Ft(Dt)),Mt=ot("keys"),Bt=function(t){return Mt[t]||(Mt[t]=pt(t))},qt={},Nt=d.TypeError,Xt=d.WeakMap;if(Ut||rt.state){var Gt=rt.state||(rt.state=new Xt),Yt=P(Gt.get),Jt=P(Gt.has),Qt=P(Gt.set);_t=function(t,e){if(Jt(Gt,t))throw new Nt("Object already initialized");return e.facade=t,Qt(Gt,t,e),e},jt=function(t){return Yt(Gt,t)||{}},$t=function(t){return Jt(Gt,t)}}else{var Kt=Bt("state");qt[Kt]=!0,_t=function(t,e){if(ct(t,Kt))throw new Nt("Object already initialized");return e.facade=t,Ht(t,Kt,e),e},jt=function(t){return ct(t,Kt)?t[Kt]:{}},$t=function(t){return ct(t,Kt)}}var Vt,Zt={set:_t,get:jt,has:$t,enforce:function(t){return $t(t)?jt(t):_t(t,{})},getterFor:function(t){return function(e){var n;if(!$(e)||(n=jt(e)).type!==t)throw Nt("Incompatible receiver, "+t+" required");return n}}},te=Function.prototype,ee=v&&Object.getOwnPropertyDescriptor,ne=ct(te,"name"),ie={EXISTS:ne,PROPER:ne&&"something"===function(){}.name,CONFIGURABLE:ne&&(!v||v&&ee(te,"name").configurable)},re=u((function(t){var e=ie.CONFIGURABLE,n=Zt.get,i=Zt.enforce,r=String(String).split("String");(t.exports=function(t,n,o,a){var s,h=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,u=!!a&&!!a.noTargetGet,f=a&&void 0!==a.name?a.name:n;j(o)&&("Symbol("===String(f).slice(0,7)&&(f="["+String(f).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!ct(o,"name")||e&&o.name!==f)&&Ht(o,"name",f),(s=i(o)).source||(s.source=r.join("string"==typeof f?f:""))),t!==d?(h?!u&&t[n]&&(c=!0):delete t[n],c?t[n]=o:Ht(t,n,o)):c?t[n]=o:it(n,o)})(Function.prototype,"toString",(function(){return j(this)&&n(this).source||Ft(this)}))})),oe=Math.ceil,ae=Math.floor,se=function(t){var e=+t;return e!=e||0===e?0:(e>0?ae:oe)(e)},he=Math.max,ce=Math.min,ue=Math.min,fe=function(t){return(e=t.length)>0?ue(se(e),9007199254740991):0;var e},le=function(t){return function(e,n,i){var r,o=_(e),a=fe(o),s=function(t,e){var n=se(t);return n<0?he(n+e,0):ce(n,e)}(i,a);if(t&&n!=n){for(;a>s;)if((r=o[s++])!=r)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},pe={includes:le(!0),indexOf:le(!1)},de=pe.indexOf,ge=P([].push),ve=function(t,e){var n,i=_(t),r=0,o=[];for(n in i)!ct(qt,n)&&ct(i,n)&&ge(o,n);for(;e.length>r;)ct(i,n=e[r++])&&(~de(o,n)||ge(o,n));return o},me=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ye=me.concat("length","prototype"),we={f:Object.getOwnPropertyNames||function(t){return ve(t,ye)}},be={f:Object.getOwnPropertySymbols},Se=P([].concat),xe=D("Reflect","ownKeys")||function(t){var e=we.f(At(t)),n=be.f;return n?Se(e,n(t)):e},Ce=function(t,e){for(var n=xe(e),i=Tt.f,r=Pt.f,o=0;o<n.length;o++){var a=n[o];ct(t,a)||i(t,a,r(e,a))}},ke=/#|\.prototype\./,ze=function(t,e){var n=Pe[Oe(t)];return n==Re||n!=Ie&&(j(e)?g(e):!!e)},Oe=ze.normalize=function(t){return String(t).replace(ke,".").toLowerCase()},Pe=ze.data={},Ie=ze.NATIVE="N",Re=ze.POLYFILL="P",Ae=ze,Ee=Pt.f,Le=function(t,e){var n,i,r,o,a,s=t.target,h=t.global,c=t.stat;if(n=h?d:c?d[s]||it(s,{}):(d[s]||{}).prototype)for(i in e){if(o=e[i],r=t.noTargetGet?(a=Ee(n,i))&&a.value:n[i],!Ae(h?i:s+(c?".":"#")+i,t.forced)&&void 0!==r){if(typeof o==typeof r)continue;Ce(o,r)}(t.sham||r&&r.sham)&&Ht(o,"sham",!0),re(n,i,o,t)}},Te=Object.keys||function(t){return ve(t,me)},He=v?Object.defineProperties:function(t,e){At(t);for(var n,i=_(e),r=Te(e),o=r.length,a=0;o>a;)Tt.f(t,n=r[a++],i[n]);return t},We=D("document","documentElement"),_e=Bt("IE_PROTO"),je=function(){},$e=function(t){return"<script>"+t+"<\/script>"},Fe=function(t){t.write($e("")),t.close();var e=t.parentWindow.Object;return t=null,e},De=function(){try{Vt=new ActiveXObject("htmlfile")}catch(t){}var t,e;De="undefined"!=typeof document?document.domain&&Vt?Fe(Vt):((e=kt("iframe")).style.display="none",We.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write($e("document.F=Object")),t.close(),t.F):Fe(Vt);for(var n=me.length;n--;)delete De.prototype[me[n]];return De()};qt[_e]=!0;var Ue=Object.create||function(t,e){var n;return null!==t?(je.prototype=At(t),n=new je,je.prototype=null,n[_e]=t):n=De(),void 0===e?n:He(n,e)},Me=yt("unscopables"),Be=Array.prototype;null==Be[Me]&&Tt.f(Be,Me,{configurable:!0,value:Ue(null)});var qe=function(t){Be[Me][t]=!0},Ne=pe.includes;Le({target:"Array",proto:!0},{includes:function(t){return Ne(this,t,arguments.length>1?arguments[1]:void 0)}}),qe("includes"),Le({target:"Object",stat:!0,forced:!v,sham:!v},{defineProperty:Tt.f});var Xe=yt("match"),Ge=d.TypeError,Ye=function(t){if(function(t){var e;return $(t)&&(void 0!==(e=t[Xe])?!!e:"RegExp"==A(t))}(t))throw Ge("The method doesn't accept regular expressions");return t},Je={};Je[yt("toStringTag")]="z";var Qe="[object z]"===String(Je),Ke=yt("toStringTag"),Ve=d.Object,Ze="Arguments"==A(function(){return arguments}()),tn=Qe?A:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Ve(t),Ke))?n:Ze?A(e):"Object"==(i=A(e))&&j(e.callee)?"Arguments":i},en=d.String,nn=function(t){if("Symbol"===tn(t))throw TypeError("Cannot convert a Symbol value to a string");return en(t)},rn=yt("match"),on=P("".indexOf);Le({target:"String",proto:!0,forced:!function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[rn]=!1,"/./"[t](e)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~on(nn(W(this)),nn(Ye(t)),arguments.length>1?arguments[1]:void 0)}});var an,sn=pe.indexOf,hn=P([].indexOf),cn=!!hn&&1/hn([1],1,-0)<0,un=!!(an=[].indexOf)&&g((function(){an.call(null,(function(){throw 1}),1)}));Le({target:"Array",proto:!0,forced:cn||!un},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return cn?hn(this,t,e)||0:sn(this,t,e)}});var fn=P(P.bind),ln=Array.isArray||function(t){return"Array"==A(t)},pn=function(){},dn=[],gn=D("Reflect","construct"),vn=/^\s*(?:class|function)\b/,mn=P(vn.exec),yn=!vn.exec(pn),wn=function(t){if(!j(t))return!1;try{return gn(pn,dn,t),!0}catch(t){return!1}},bn=!gn||g((function(){var t;return wn(wn.call)||!wn(Object)||!wn((function(){t=!0}))||t}))?function(t){if(!j(t))return!1;switch(tn(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return yn||!!mn(vn,Ft(t))}:wn,Sn=yt("species"),xn=d.Array,Cn=function(t,e){return new(function(t){var e;return ln(t)&&(e=t.constructor,(bn(e)&&(e===xn||ln(e.prototype))||$(e)&&null===(e=e[Sn]))&&(e=void 0)),void 0===e?xn:e}(t))(0===e?0:e)},kn=P([].push),zn=function(t){var e=1==t,n=2==t,i=3==t,r=4==t,o=6==t,a=7==t,s=5==t||o;return function(h,c,u,f){for(var l,p,d=st(h),g=T(d),v=function(t,e){return tt(t),void 0===e?t:fn?fn(t,e):function(){return t.apply(e,arguments)}}(c,u),m=fe(g),y=0,w=f||Cn,b=e?w(h,m):n||a?w(h,0):void 0;m>y;y++)if((s||y in g)&&(p=v(l=g[y],y,d),t))if(e)b[y]=p;else if(p)switch(t){case 3:return!0;case 5:return l;case 6:return y;case 2:kn(b,l)}else switch(t){case 4:return!1;case 7:kn(b,l)}return o?-1:i||r?r:b}},On=[zn(0),zn(1),zn(2),zn(3),zn(4),zn(5),zn(6),zn(7)][5],Pn=!0;"find"in[]&&Array(1).find((function(){Pn=!1})),Le({target:"Array",proto:!0,forced:Pn},{find:function(t){return On(this,t,arguments.length>1?arguments[1]:void 0)}}),qe("find"),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0===i)return!1;for(var r,o,a=0|e,s=Math.max(a>=0?a:i-Math.abs(a),0);s<i;){if((r=n[s])===(o=t)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;s++}return!1}}),String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=e[r];if(t.call(i,o,r,e))return o;r++}}});var In=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.some((function(e){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()===e}))},Rn=function(t,e){for(var n=0,i=e.split(".");n<i.length;n++){var r=t[i[n]];if(!In(r,"object","array"))return r;t=r}return t},An=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},En=function(t){return[].filter.call(t,(function(t){return"\n"!==t})).join("")},Ln=function(t){if("string"!=typeof t)return!1;if("transparent"===(t=t.toLocaleLowerCase().trim()))return!1;var e;if(/^rgba/.test(t)&&0===(null===(e=/([^\s,]+)\)$/.exec(t))?0:"object"==typeof e?NaN:"number"==typeof e?e:"string"==typeof e?"%"===e[e.length-1]?Number(e.slice(0,-1))/100:Number(e):NaN))return!1;return!0},Tn=function(t){var e,n=(null===(e=t.padding)||void 0===e?void 0:e.replace(/px/g,"").split(" ").map((function(t){return~~t})))||[0],i=0,r=0,o=0,a=0;switch(n.length){case 1:i=r=o=a=n[0];break;case 2:i=r=n[0],o=a=n[1];break;case 3:i=n[0],o=a=n[1],r=n[2];break;default:i=n[0],r=n[1],o=n[2],a=n[3]}var s={paddingTop:i,paddingBottom:r,paddingLeft:o,paddingRight:a};for(var h in s)s[h]=Object.prototype.hasOwnProperty.call(t,h)&&In(t[h],"string","number")?~~String(t[h]).replace(/px/g,""):s[h];return[i,r,o,a]},Hn=function(t){var e=[],n=t.map((function(t){return Number(t)})).reduce((function(t,n){if(n>0){var i=t+n;return e.push(i),i}return e.push(NaN),t}),0),i=Math.random()*n;return e.findIndex((function(t){return i<=t}))},Wn=function(t,e,n,i){void 0===i&&(i=1/0),i<=0&&(i=1/0);for(var r="",o=[],a=t.measureText("...").width,s=0;s<e.length;s++){r+=e[s];var h=t.measureText(r).width,c=n(o);if(i===o.length+1&&(h+=a),c<0)return o;if(h>c&&(o.push(r.slice(0,-1)),r=e[s]),i===o.length)return o[o.length-1]+="...",o}return r&&o.push(r),o.length||o.push(e),o},_n=function(t){return Math.PI/180*t},jn=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],h=Math.min(o,a),c=Math.PI;s>h/2&&(s=h/2),t.beginPath(),t.moveTo(i+s,r),t.lineTo(i+s,r),t.lineTo(i+o-s,r),t.arc(i+o-s,r+s,s,-c/2,0),t.lineTo(i+o,r+a-s),t.arc(i+o-s,r+a-s,s,0,c/2),t.lineTo(i+s,r+a),t.arc(i+s,r+a-s,s,c/2,c),t.lineTo(i,r+s),t.arc(i+s,r+s,s,c,-c/2),t.closePath()},$n=function(t,e,n,i,r,o){var a=document.createElement("canvas"),s=a.getContext("2d"),h=t.width,c=t.height;a.width=h,a.height=c;var u=h/i;return jn(s,e*u,n*u,i*u,r*u,o*u),s.clip(),s.drawImage(t,0,0,h,c),a},Fn=function(){function t(){this.subs=[]}return t.prototype.addSub=function(t){this.subs.includes(t)||this.subs.push(t)},t.prototype.notify=function(){this.subs.forEach((function(t){t.update()}))},t}(),Dn="__proto__"in{};function Un(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var Mn=Array.prototype,Bn=Object.create(Mn);["push","pop","shift","unshift","sort","splice","reverse"].forEach((function(t){Bn[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=Mn[t].apply(this,e),r=this.__luckyOb__;return["push","unshift","splice"].includes(t)&&r.walk(this),r.dep.notify(),i}}));var qn=function(){function t(t){this.dep=new Fn,Un(t,"__luckyOb__",this),Array.isArray(t)&&(Dn?t.__proto__=Bn:Object.getOwnPropertyNames(Bn).forEach((function(e){Un(t,e,Bn[e])}))),this.walk(t)}return t.prototype.walk=function(t){Object.keys(t).forEach((function(e){Xn(t,e,t[e])}))},t}();function Nn(t){if(t&&"object"==typeof t)return"__luckyOb__"in t?t.__luckyOb__:new qn(t)}function Xn(t,e,n){var i=new Fn,r=Object.getOwnPropertyDescriptor(t,e);if(!r||!1!==r.configurable){var o=r&&r.get,a=r&&r.set;o&&!a||2!==arguments.length||(n=t[e]);var s=Nn(n);Object.defineProperty(t,e,{get:function(){var e=o?o.call(t):n;return Fn.target&&(i.addSub(Fn.target),s&&s.dep.addSub(Fn.target)),e},set:function(e){e!==n&&(n=e,o&&!a||(a?a.call(t,e):n=e,s=Nn(e),i.notify()))}})}}var Gn=0,Yn=function(){function t(t,e,n,i){void 0===i&&(i={}),this.id=Gn++,this.$lucky=t,this.expr=e,this.deep=!!i.deep,this.getter="function"==typeof e?e:function(t){t+=".";for(var e=[],n="",i=0;i<t.length;i++){var r=t[i];if(/\[|\./.test(r))e.push(n),n="";else{if(/\W/.test(r))continue;n+=r}}return function(t){return e.reduce((function(t,e){return t[e]}),t)}}(e),this.cb=n,this.value=this.get()}return t.prototype.get=function(){Fn.target=this;var t=this.getter.call(this.$lucky,this.$lucky);return this.deep&&function(t){var e=function(t){In(t,"array","object")&&Object.keys(t).forEach((function(n){var i=t[n];e(i)}))};e(t)}(t),Fn.target=null,t},t.prototype.update=function(){var t=this.get(),e=this.value;this.value=t,this.cb.call(this.$lucky,t,e)},t}(),Jn=function(){function t(t,e){var n=this;this.version="1.7.11",this.htmlFontSize=16,this.rAF=function(){},this.boxWidth=0,this.boxHeight=0,"string"==typeof t?t={el:t}:1===t.nodeType&&(t={el:"",divElement:t}),t=t,this.config=t,this.data=e,t.flag||(t.flag="WEB"),t.el&&(t.divElement=document.querySelector(t.el)),t.divElement&&(t.canvasElement=document.createElement("canvas"),t.divElement.appendChild(t.canvasElement)),t.canvasElement&&(t.ctx=t.canvasElement.getContext("2d"),t.canvasElement.setAttribute("package","lucky-canvas@1.7.11"),t.canvasElement.addEventListener("click",(function(t){return n.handleClick(t)}))),this.ctx=t.ctx,this.initWindowFunction(),this.config.ctx||console.error("无法获取到 CanvasContext2D"),window&&"function"==typeof window.addEventListener&&window.addEventListener("resize",function(t,e){void 0===e&&(e=300);var n=null;return function(){for(var i=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n||(n=setTimeout((function(){t.apply(i,r),clearTimeout(n),n=null}),e))}}((function(){return n.resize()}),300)),window&&"function"==typeof window.MutationObserver&&new window.MutationObserver((function(){n.resize()})).observe(document.documentElement,{attributes:!0})}return t.prototype.resize=function(){var t,e;null===(e=(t=this.config).beforeResize)||void 0===e||e.call(t),this.setHTMLFontSize(),this.setDpr(),this.resetWidthAndHeight(),this.zoomCanvas()},t.prototype.initLucky=function(){if(this.resize(),!this.boxWidth||!this.boxHeight)return console.error("无法获取到宽度或高度")},t.prototype.handleClick=function(t){},t.prototype.setHTMLFontSize=function(){window&&(this.htmlFontSize=+window.getComputedStyle(document.documentElement).fontSize.slice(0,-2))},t.prototype.clearCanvas=function(){var t=[this.boxWidth,this.boxHeight],e=t[0],n=t[1];this.ctx.clearRect(-e,-n,2*e,2*n)},t.prototype.setDpr=function(){var t=this.config;t.dpr||(window?window.dpr=t.dpr=window.devicePixelRatio||1:t.dpr||console.error(t,"未传入 dpr 可能会导致绘制异常"))},t.prototype.resetWidthAndHeight=function(){var t=this.config,e=this.data,n=0,i=0;t.divElement&&(n=t.divElement.offsetWidth,i=t.divElement.offsetHeight),this.boxWidth=this.getLength(e.width||t.width)||n,this.boxHeight=this.getLength(e.height||t.height)||i,t.divElement&&(t.divElement.style.overflow="hidden",t.divElement.style.width=this.boxWidth+"px",t.divElement.style.height=this.boxHeight+"px")},t.prototype.zoomCanvas=function(){var t=this.config,e=this.ctx,n=t.canvasElement,i=t.dpr,r=[this.boxWidth*i,this.boxHeight*i],o=r[0],a=r[1];n&&(n.width=o,n.height=a,n.style.width=o+"px",n.style.height=a+"px",n.style["transform-origin"]="left top",n.style.transform="scale("+1/i+")",e.scale(i,i))},t.prototype.initWindowFunction=function(){var t=this.config;if(window)return this.rAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},t.setTimeout=window.setTimeout,t.setInterval=window.setInterval,t.clearTimeout=window.clearTimeout,void(t.clearInterval=window.clearInterval);if(t.rAF)this.rAF=t.rAF;else if(t.setTimeout){var e=t.setTimeout;this.rAF=function(t){return e(t,16.7)}}else this.rAF=function(t){return setTimeout(t,16.7)}},t.prototype.loadImg=function(t,e,n){var i=this;return void 0===n&&(n="$resolve"),new Promise((function(r,o){if(t||o("=> '"+e.src+"' 不能为空或不合法"),"WEB"!==i.config.flag)return e[n]=r,void(e.$reject=o);var a=new Image;a.onload=function(){return r(a)},a.onerror=function(){return o("=> '"+e.src+"' 图片加载失败")},a.src=t}))},t.prototype.drawImage=function(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var o=this.config,a=o.flag,s=o.dpr;if(["WEB","MP-WX"].includes(a))n=e;else{if(!["UNI-H5","UNI-MP","TARO-H5","TARO-MP"].includes(a))return console.error("意料之外的 flag, 该平台尚未兼容!");n=e.path}return 8===i.length&&(i=i.map((function(t,e){return e<4?t*s:t}))),t.drawImage.apply(t,h([n],i))},t.prototype.getLength=function(t){return In(t,"number")?t:In(t,"string")?this.changeUnits(t):0},t.prototype.changeUnits=function(t,e){var n=this;return void 0===e&&(e=1),Number(t.replace(/^([-]*[0-9.]*)([a-z%]*)$/,(function(t,i,r){var o={"%":function(t){return t*(e/100)},px:function(t){return 1*t},rem:function(t){return t*n.htmlFontSize},vw:function(t){return t/100*window.innerWidth}}[r];if(o)return o(i);var a=n.config.unitFunc;return a?a(i,r):i})))},t.prototype.getOffscreenCanvas=function(t,e){if(!An(this,"_offscreenCanvas")){if(!window||!window.document)return console.error("无法创建离屏Canvas!");this._offscreenCanvas=document.createElement("canvas")}var n=this.config.dpr,i=this._offscreenCanvas;i.width=(t||300)*n,i.height=(e||150)*n;var r=i.getContext("2d");return r.clearRect(0,0,t,e),r.scale(n,n),r.dpr=n,{_offscreenCanvas:i,_ctx:r}},t.prototype.$clip=function(t){for(var e=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=n.map((function(t){return e.getLength(t)}));return $n.apply(void 0,h([t],r))},t.prototype.$opacity=function(t,e){return function(t,e){var n=document.createElement("canvas"),i=n.getContext("2d"),r=t.width,o=t.height;if(n.width=r,n.height=o,"string"==typeof i.filter)i.filter="opacity("+e+"%)",i.drawImage(t,0,0,r,o);else{i.drawImage(t,0,0,r,o);for(var a=i.getImageData(0,0,r,o),s=a.data,h=s.length,c=0;c<h;c+=4){var u=s[c+3];0!==u&&(s[c+3]=u*e/100)}i.putImageData(a,0,0)}return n}(t,this.getLength(e))},t.prototype.$blur=function(t,e){return function(t,e){var n=document.createElement("canvas"),i=n.getContext("2d"),r=t.width,o=t.height;n.width=r,n.height=o,i.drawImage(t,0,0,r,o);var a=i.getImageData(0,0,r,o),s=a.data,h=function(t,e){e=e||t/3;for(var n=Math.ceil(t),i=e*e,r=2*i,o=1/(2*Math.PI*i),a=[],s=0,h=-n;h<=n;h++)for(var c=-n;c<=n;c++){var u=o*Math.exp(-(h*h+c*c)/r);a.push(u),s+=u}for(var f=0;f<a.length;f++)a[f]/=s;return a}(e);return s.length,h.length,console.log(a),i.putImageData(a,0,0),n}(t,this.getLength(e))},t.prototype.$set=function(t,e,n){t&&"object"==typeof t&&Xn(t,e,n)},t.prototype.$computed=function(t,e,n){var i=this;Object.defineProperty(t,e,{get:function(){return n.call(i)}})},t.prototype.$watch=function(t,e,n){void 0===n&&(n={}),"object"==typeof e&&(e=(n=e).handler);var i=new Yn(this,t,e,n);return n.immediate&&e.call(this,i.value),function(){}},t}(),Qn=function(t,e,n,i){return t>=i&&(t=i),n*(t/=i)*t+e},Kn=function(t,e,n,i){return t>=i&&(t=i),-n*(t/=i)*(t-2)+e},Vn=function(t){function e(e,n){var i,r=t.call(this,e,{width:n.width,height:n.height})||this;return r.blocks=[],r.prizes=[],r.buttons=[],r.defaultConfig={},r.defaultStyle={},r._defaultConfig={},r._defaultStyle={},r.Radius=0,r.prizeRadius=0,r.prizeDeg=0,r.prizeRadian=0,r.rotateDeg=0,r.maxBtnRadius=0,r.startTime=0,r.endTime=0,r.stopDeg=0,r.endDeg=0,r.FPS=16.6,r.step=0,r.ImageCache={blocks:[],prizes:[],buttons:[]},r.initData(n),r.initWatch(),r.initComputed(),null===(i=e.beforeCreate)||void 0===i||i.call(r),r.init(),r}return r(e,t),e.prototype.resize=function(){var e,n;t.prototype.resize.call(this),this.Radius=Math.min(this.boxWidth,this.boxHeight)/2,this.ctx.translate(this.Radius,this.Radius),this.draw(),null===(n=(e=this.config).afterResize)||void 0===n||n.call(e)},e.prototype.initLucky=function(){this.Radius=0,this.prizeRadius=0,this.prizeDeg=0,this.prizeRadian=0,this.rotateDeg=0,this.maxBtnRadius=0,this.startTime=0,this.endTime=0,this.stopDeg=0,this.endDeg=0,this.FPS=16.6,this.prizeFlag=-1,this.step=0,t.prototype.initLucky.call(this)},e.prototype.initData=function(t){this.$set(this,"width",t.width||"300px"),this.$set(this,"height",t.height||"300px"),this.$set(this,"blocks",t.blocks||[]),this.$set(this,"prizes",t.prizes||[]),this.$set(this,"buttons",t.buttons||[]),this.$set(this,"defaultConfig",t.defaultConfig||{}),this.$set(this,"defaultStyle",t.defaultStyle||{}),this.$set(this,"startCallback",t.start),this.$set(this,"endCallback",t.end)},e.prototype.initComputed=function(){var t=this;this.$computed(this,"_defaultConfig",(function(){return o({gutter:"0px",offsetDegree:0,speed:20,speedFunction:"quad",accelerationTime:2500,decelerationTime:2500,stopRange:0},t.defaultConfig)})),this.$computed(this,"_defaultStyle",(function(){return o({fontSize:"18px",fontColor:"#000",fontStyle:"sans-serif",fontWeight:"400",background:"rgba(0,0,0,0)",wordWrap:!0,lengthLimit:"90%"},t.defaultStyle)}))},e.prototype.initWatch=function(){var t=this;this.$watch("width",(function(e){t.data.width=e,t.resize()})),this.$watch("height",(function(e){t.data.height=e,t.resize()})),this.$watch("blocks",(function(e){t.initImageCache()}),{deep:!0}),this.$watch("prizes",(function(e){t.initImageCache()}),{deep:!0}),this.$watch("buttons",(function(e){t.initImageCache()}),{deep:!0}),this.$watch("defaultConfig",(function(){return t.draw()}),{deep:!0}),this.$watch("defaultStyle",(function(){return t.draw()}),{deep:!0}),this.$watch("startCallback",(function(){return t.init()})),this.$watch("endCallback",(function(){return t.init()}))},e.prototype.init=function(){var t,e;return a(this,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return this.initLucky(),n=this.config,null===(t=n.beforeInit)||void 0===t||t.call(this),this.draw(),this.draw(),[4,this.initImageCache()];case 1:return i.sent(),null===(e=n.afterInit)||void 0===e||e.call(this),[2]}}))}))},e.prototype.initImageCache=function(){var t=this;return new Promise((function(e){var n={blocks:t.blocks.map((function(t){return t.imgs})),prizes:t.prizes.map((function(t){return t.imgs})),buttons:t.buttons.map((function(t){return t.imgs}))};Object.keys(n).forEach((function(i){var r=n[i],o=[];r&&r.forEach((function(e,n){e&&e.forEach((function(e,r){o.push(t.loadAndCacheImg(i,n,i,r))}))})),Promise.all(o).then((function(){t.draw(),e()}))}))}))},e.prototype.handleClick=function(t){var e,n=this.ctx;n.beginPath(),n.arc(0,0,this.maxBtnRadius,0,2*Math.PI,!1),n.isPointInPath(t.offsetX,t.offsetY)&&0===this.step&&(null===(e=this.startCallback)||void 0===e||e.call(this,t))},e.prototype.loadAndCacheImg=function(t,e,n,i){return a(this,void 0,void 0,(function(){var r=this;return s(this,(function(o){return[2,new Promise((function(o,a){var s=r[t][e];if(s&&s.imgs){var h=s.imgs[i];if(h){var c=r.ImageCache;c[n][e]||(c[n][e]=[]),r.loadImg(h.src,h).then((function(t){"function"==typeof h.formatter&&(t=h.formatter.call(r,t)),c[n][e][i]=t,o()})).catch((function(n){console.error(t+"["+e+"].imgs["+i+"] "+n),a()}))}}}))]}))}))},e.prototype.computedWidthAndHeight=function(t,e,n,i){if(!e.width&&!e.height)return[t.width,t.height];if(e.width&&!e.height){var r=this.getWidth(e.width,n);return[r,t.height*(r/t.width)]}if(!e.width&&e.height){var o=this.getHeight(e.height,i);return[t.width*(o/t.height),o]}return[this.getWidth(e.width,n),this.getHeight(e.height,i)]},e.prototype.draw=function(){var t,e,n=this,i=this,r=i.config,o=i.ctx,a=i._defaultConfig,s=i._defaultStyle;null===(t=r.beforeDraw)||void 0===t||t.call(this,o),o.clearRect(-this.Radius,-this.Radius,2*this.Radius,2*this.Radius),this.prizeRadius=this.blocks.reduce((function(t,e,i){return Ln(e.background)&&(o.beginPath(),o.fillStyle=e.background,o.arc(0,0,t,0,2*Math.PI,!1),o.fill()),e.imgs&&e.imgs.forEach((function(e,r){var a=n.ImageCache.blocks;if(a&&a[i]){var s=a[i][r];if(s){var h=n.computedWidthAndHeight(s,e,2*t,2*t),c=h[0],u=h[1],f=[n.getOffsetX(c),n.getHeight(e.top,2*t)-t],l=f[0],p=f[1];o.save(),e.rotate&&o.rotate(_n(n.rotateDeg)),n.drawImage(o,s,l,p,c,u),o.restore()}}})),t-n.getLength(e.padding&&e.padding.split(" ")[0])}),this.Radius),this.prizeDeg=360/this.prizes.length,this.prizeRadian=_n(this.prizeDeg);var h=_n(this.rotateDeg-90+this.prizeDeg/2+a.offsetDegree),c=function(t){return n.getOffsetX(o.measureText(t).width)},u=function(t,e,i){var r=t.lineHeight||s.lineHeight||t.fontSize||s.fontSize;return n.getHeight(t.top,e)+(i+1)*n.getLength(r)};o.save(),this.prizes.forEach((function(t,e){var i=h+e*n.prizeRadian,r=n.prizeRadius-n.maxBtnRadius,f=t.background||s.background;Ln(f)&&(o.fillStyle=f,function(t,e,n,i,r,o){t.beginPath();var a,s,h=_n(90/Math.PI/n*o),c=i+h,u=r-h;t.arc(0,0,n,c,u,!1),t.lineTo.apply(t,(a=(i+r)/2,s=o/2/Math.abs(Math.sin((i-r)/2)),[+(Math.cos(a)*s).toFixed(8),+(Math.sin(a)*s).toFixed(8)])),t.closePath()}(o,n.maxBtnRadius,n.prizeRadius,i-n.prizeRadian/2,i+n.prizeRadian/2,n.getLength(a.gutter)),o.fill());var l=Math.cos(i)*n.prizeRadius,p=Math.sin(i)*n.prizeRadius;o.translate(l,p),o.rotate(i+_n(90)),t.imgs&&t.imgs.forEach((function(t,i){var a=n.ImageCache.prizes;if(a&&a[e]){var s=a[e][i];if(s){var h=n.computedWidthAndHeight(s,t,n.prizeRadian*n.prizeRadius,r),c=h[0],u=h[1],f=[n.getOffsetX(c),n.getHeight(t.top,r)],l=f[0],p=f[1];n.drawImage(o,s,l,p,c,u)}}})),t.fonts&&t.fonts.forEach((function(t){var e=t.fontColor||s.fontColor,i=t.fontWeight||s.fontWeight,h=n.getLength(t.fontSize||s.fontSize),f=t.fontStyle||s.fontStyle,l=Object.prototype.hasOwnProperty.call(t,"wordWrap")?t.wordWrap:s.wordWrap,p=t.lengthLimit||s.lengthLimit,d=t.lineClamp||s.lineClamp;o.fillStyle=e,o.font=i+" "+(h>>0)+"px "+f;var g=String(t.text);(l?Wn(o,En(g),(function(e){var i=(n.prizeRadius-u(t,r,e.length))*Math.tan(n.prizeRadian/2)*2-n.getLength(a.gutter);return n.getWidth(p,i)}),d):g.split("\n")).filter((function(t){return!!t})).forEach((function(e,n){o.fillText(e,c(e),u(t,r,n))}))})),o.rotate(_n(360)-i-_n(90)),o.translate(-l,-p)})),o.restore(),this.buttons.forEach((function(t,e){var i=n.getHeight(t.radius);n.maxBtnRadius=Math.max(n.maxBtnRadius,i),Ln(t.background)&&(o.beginPath(),o.fillStyle=t.background,o.arc(0,0,i,0,2*Math.PI,!1),o.fill()),t.pointer&&Ln(t.background)&&(o.beginPath(),o.fillStyle=t.background,o.moveTo(-i,0),o.lineTo(i,0),o.lineTo(0,2*-i),o.closePath(),o.fill()),t.imgs&&t.imgs.forEach((function(t,r){var a=n.ImageCache.buttons;if(a&&a[e]){var s=a[e][r];if(s){var h=n.computedWidthAndHeight(s,t,2*i,2*i),c=h[0],u=h[1],f=[n.getOffsetX(c),n.getHeight(t.top,i)],l=f[0],p=f[1];n.drawImage(o,s,l,p,c,u)}}})),t.fonts&&t.fonts.forEach((function(t){var e=t.fontColor||s.fontColor,r=t.fontWeight||s.fontWeight,a=n.getLength(t.fontSize||s.fontSize),h=t.fontStyle||s.fontStyle;o.fillStyle=e,o.font=r+" "+(a>>0)+"px "+h,String(t.text).split("\n").forEach((function(e,n){o.fillText(e,c(e),u(t,i,n))}))}))})),null===(e=r.afterDraw)||void 0===e||e.call(this,o)},e.prototype.carveOnGunwaleOfAMovingBoat=function(){var t=this,e=t._defaultConfig,n=t.prizeFlag,i=t.prizeDeg,r=t.rotateDeg;this.endTime=Date.now();for(var o=this.stopDeg=r,a=e.speed,s=(Math.random()*i-i/2)*this.getLength(e.stopRange),h=0,c=0,u=0;++h;){var f=360*h-n*i-r-e.offsetDegree+s-i/2,l=Kn(this.FPS,o,f,e.decelerationTime)-o;if(l>a){this.endDeg=a-c>l-a?f:u;break}u=f,c=l}},e.prototype.play=function(){var t,e;0===this.step&&(this.startTime=Date.now(),this.prizeFlag=void 0,this.step=1,null===(e=(t=this.config).afterStart)||void 0===e||e.call(t),this.run())},e.prototype.stop=function(t){if(0!==this.step&&3!==this.step){if(!t&&0!==t){var e=this.prizes.map((function(t){return t.range}));t=Hn(e)}t<0?(this.step=0,this.prizeFlag=-1):(this.step=2,this.prizeFlag=t%this.prizes.length)}},e.prototype.run=function(t){var e;void 0===t&&(t=0);var n=this,i=n.rAF,r=n.step,o=n.prizeFlag,a=n.stopDeg,s=n.endDeg,h=n._defaultConfig,c=h.accelerationTime,u=h.decelerationTime,f=h.speed;if(0!==r){if(-1!==o){3!==r||this.endDeg||this.carveOnGunwaleOfAMovingBoat();var l=Date.now()-this.startTime,p=Date.now()-this.endTime,d=this.rotateDeg;if(1===r||l<c){this.FPS=l/t;var g=Qn(l,0,f,c);g===f&&(this.step=2),d+=g%360}else 2===r?(d+=f%360,void 0!==o&&o>=0&&(this.step=3,this.stopDeg=0,this.endDeg=0)):3===r?(d=Kn(p,a,s,u),p>=u&&(this.step=0)):this.stop(-1);this.rotateDeg=d,this.draw(),i(this.run.bind(this,t+1))}}else null===(e=this.endCallback)||void 0===e||e.call(this,this.prizes.find((function(t,e){return e===o}))||{})},e.prototype.getWidth=function(t,e){return void 0===e&&(e=this.prizeRadian*this.prizeRadius),In(t,"number")?t:In(t,"string")?this.changeUnits(t,e):0},e.prototype.getHeight=function(t,e){return void 0===e&&(e=this.prizeRadius),In(t,"number")?t:In(t,"string")?this.changeUnits(t,e):0},e.prototype.getOffsetX=function(t){return-t/2},e.prototype.conversionAxis=function(t,e){var n=this.config;return[t/n.dpr-this.Radius,e/n.dpr-this.Radius]},e}(Jn);(function(t){function e(e,n){var i,r=t.call(this,e,{width:n.width,height:n.height})||this;return r.rows=3,r.cols=3,r.blocks=[],r.prizes=[],r.buttons=[],r.defaultConfig={},r.defaultStyle={},r.activeStyle={},r._defaultConfig={},r._defaultStyle={},r._activeStyle={},r.cellWidth=0,r.cellHeight=0,r.startTime=0,r.endTime=0,r.currIndex=0,r.stopIndex=0,r.endIndex=0,r.demo=!1,r.timer=0,r.FPS=16.6,r.step=0,r.prizeFlag=-1,r.cells=[],r.ImageCache={blocks:[],prizes:[],buttons:[]},r.initData(n),r.initWatch(),r.initComputed(),null===(i=e.beforeCreate)||void 0===i||i.call(r),r.init(),r}r(e,t),e.prototype.resize=function(){var e,n;t.prototype.resize.call(this),this.draw(),null===(n=(e=this.config).afterResize)||void 0===n||n.call(e)},e.prototype.initLucky=function(){this.cellWidth=0,this.cellHeight=0,this.startTime=0,this.endTime=0,this.currIndex=0,this.stopIndex=0,this.endIndex=0,this.demo=!1,this.timer=0,this.FPS=16.6,this.prizeFlag=-1,this.step=0,t.prototype.initLucky.call(this)},e.prototype.initData=function(t){this.$set(this,"width",t.width||"300px"),this.$set(this,"height",t.height||"300px"),this.$set(this,"rows",Number(t.rows)||3),this.$set(this,"cols",Number(t.cols)||3),this.$set(this,"blocks",t.blocks||[]),this.$set(this,"prizes",t.prizes||[]),this.$set(this,"buttons",t.buttons||[]),this.$set(this,"button",t.button),this.$set(this,"defaultConfig",t.defaultConfig||{}),this.$set(this,"defaultStyle",t.defaultStyle||{}),this.$set(this,"activeStyle",t.activeStyle||{}),this.$set(this,"startCallback",t.start),this.$set(this,"endCallback",t.end)},e.prototype.initComputed=function(){var t=this;this.$computed(this,"_defaultConfig",(function(){var e=o({gutter:5,speed:20,accelerationTime:2500,decelerationTime:2500},t.defaultConfig);return e.gutter=t.getLength(e.gutter),e.speed=e.speed/40,e})),this.$computed(this,"_defaultStyle",(function(){return o({borderRadius:20,fontColor:"#000",fontSize:"18px",fontStyle:"sans-serif",fontWeight:"400",background:"rgba(0,0,0,0)",shadow:"",wordWrap:!0,lengthLimit:"90%"},t.defaultStyle)})),this.$computed(this,"_activeStyle",(function(){return o({background:"#ffce98",shadow:""},t.activeStyle)}))},e.prototype.initWatch=function(){var t=this;this.$watch("width",(function(e){t.data.width=e,t.resize()})),this.$watch("height",(function(e){t.data.height=e,t.resize()})),this.$watch("blocks",(function(e){t.initImageCache()}),{deep:!0}),this.$watch("prizes",(function(e){t.initImageCache()}),{deep:!0}),this.$watch("buttons",(function(e){t.initImageCache()}),{deep:!0}),this.$watch("rows",(function(){return t.init()})),this.$watch("cols",(function(){return t.init()})),this.$watch("defaultConfig",(function(){return t.draw()}),{deep:!0}),this.$watch("defaultStyle",(function(){return t.draw()}),{deep:!0}),this.$watch("activeStyle",(function(){return t.draw()}),{deep:!0}),this.$watch("startCallback",(function(){return t.init()})),this.$watch("endCallback",(function(){return t.init()}))},e.prototype.init=function(){var t,e;return a(this,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return this.initLucky(),n=this.config,null===(t=n.beforeInit)||void 0===t||t.call(this),this.draw(),[4,this.initImageCache()];case 1:return i.sent(),null===(e=n.afterInit)||void 0===e||e.call(this),[2]}}))}))},e.prototype.initImageCache=function(){var t=this;return new Promise((function(e){var n=t.buttons.map((function(t){return t.imgs}));t.button&&n.push(t.button.imgs);var i={blocks:t.blocks.map((function(t){return t.imgs})),prizes:t.prizes.map((function(t){return t.imgs})),buttons:n};Object.keys(i).forEach((function(n){var r=i[n],o=[];r&&r.forEach((function(e,i){e&&e.forEach((function(e,r){o.push(t.loadAndCacheImg(n,i,n,r))}))})),Promise.all(o).then((function(){t.draw(),e()}))}))}))},e.prototype.handleClick=function(t){var e=this,n=this.ctx;h(h([],this.buttons),[this.button]).forEach((function(i){var r;if(i){var o=e.getGeometricProperty([i.x,i.y,i.col||1,i.row||1]),a=o[0],s=o[1],h=o[2],c=o[3];n.beginPath(),n.rect(a,s,h,c),n.isPointInPath(t.offsetX,t.offsetY)&&0===e.step&&("function"==typeof i.callback&&i.callback.call(e,i),null===(r=e.startCallback)||void 0===r||r.call(e,t,i))}}))},e.prototype.loadAndCacheImg=function(t,e,n,i){return a(this,void 0,void 0,(function(){var r=this;return s(this,(function(o){return[2,new Promise((function(o,a){var s=r[t][e];if("buttons"===t&&!r.buttons.length&&r.button&&(s=r.button),s&&s.imgs){var h=s.imgs[i];if(h){var c=r.ImageCache;c[n][e]||(c[n][e]=[]);var u=[r.loadImg(h.src,h),h.activeSrc&&r.loadImg(h.activeSrc,h,"$activeResolve")];Promise.all(u).then((function(t){var a=t[0],s=t[1],u=h.formatter;"function"==typeof u&&(a=u.call(r,a),s&&(s=u.call(r,s))),c[n][e][i]={defaultImg:a,activeImg:s},o()})).catch((function(n){console.error(t+"["+e+"].imgs["+i+"] "+n),a()}))}}}))]}))}))},e.prototype.computedWidthAndHeight=function(t,e,n){if(!e.width&&!e.height)return[t.width,t.height];if(e.width&&!e.height){var i=this.getWidth(e.width,n.col);return[i,t.height*(i/t.width)]}if(!e.width&&e.height){var r=this.getHeight(e.height,n.row);return[t.width*(r/t.height),r]}return[this.getWidth(e.width,n.col),this.getHeight(e.height,n.row)]},e.prototype.draw=function(){var t,e,n=this,i=this,r=i.config,o=i.ctx,a=i._defaultConfig,s=i._defaultStyle,c=i._activeStyle;null===(t=r.beforeDraw)||void 0===t||t.call(this,o),o.clearRect(0,0,this.boxWidth,this.boxHeight),this.cells=h(h([],this.prizes),this.buttons),this.button&&this.cells.push(this.button),this.cells.forEach((function(t){t.col=t.col||1,t.row=t.row||1})),this.prizeArea=this.blocks.reduce((function(t,e){var i=t.x,r=t.y,a=t.w,h=t.h,c=Tn(e),u=c[0],f=c[1],l=c[2],p=c[3],d=e.borderRadius?n.getLength(e.borderRadius):0,g=e.background||s.background;return Ln(g)&&(o.fillStyle=n.handleBackground(i,r,a,h,g),jn(o,i,r,a,h,d),o.fill()),{x:i+l,y:r+u,w:a-l-p,h:h-u-f}}),{x:0,y:0,w:this.boxWidth,h:this.boxHeight}),this.cellWidth=(this.prizeArea.w-a.gutter*(this.cols-1))/this.cols,this.cellHeight=(this.prizeArea.h-a.gutter*(this.rows-1))/this.rows,this.cells.forEach((function(t,e){var i=n.getGeometricProperty([t.x,t.y,t.col,t.row]),a=i[0],h=i[1],u=i[2],f=i[3],l=!1;(void 0===n.prizeFlag||n.prizeFlag>-1)&&(l=e===n.currIndex%n.prizes.length>>0);var p=l?c.background:t.background||s.background;if(Ln(p)){var d=(l?c.shadow:t.shadow||s.shadow).replace(/px/g,"").split(",")[0].split(" ").map((function(t,e){return e<3?Number(t):t}));4===d.length&&(o.shadowColor=d[3],o.shadowOffsetX=d[0]*r.dpr,o.shadowOffsetY=d[1]*r.dpr,o.shadowBlur=d[2],d[0]>0?u-=d[0]:(u+=d[0],a-=d[0]),d[1]>0?f-=d[1]:(f+=d[1],h-=d[1])),o.fillStyle=n.handleBackground(a,h,u,f,p);var g=n.getLength(t.borderRadius?t.borderRadius:s.borderRadius);jn(o,a,h,u,f,g),o.fill(),o.shadowColor="rgba(0, 0, 0, 0)",o.shadowOffsetX=0,o.shadowOffsetY=0,o.shadowBlur=0}var v="prizes";e>=n.prizes.length&&(v="buttons",e-=n.prizes.length),t.imgs&&t.imgs.forEach((function(i,r){var s=n.ImageCache[v];if(s[e]){var c=s[e][r];if(c){var u=l&&c.activeImg||c.defaultImg;if(u){var f=n.computedWidthAndHeight(u,i,t),p=f[0],d=f[1],g=[a+n.getOffsetX(p,t.col),h+n.getHeight(i.top,t.row)],m=g[0],y=g[1];n.drawImage(o,u,m,y,p,d)}}}})),t.fonts&&t.fonts.forEach((function(e){var i=l&&c.fontStyle?c.fontStyle:e.fontStyle||s.fontStyle,r=l&&c.fontWeight?c.fontWeight:e.fontWeight||s.fontWeight,u=l&&c.fontSize?n.getLength(c.fontSize):n.getLength(e.fontSize||s.fontSize),f=l&&c.lineHeight?c.lineHeight:e.lineHeight||s.lineHeight||e.fontSize||s.fontSize,p=Object.prototype.hasOwnProperty.call(e,"wordWrap")?e.wordWrap:s.wordWrap,d=e.lengthLimit||s.lengthLimit,g=e.lineClamp||s.lineClamp;o.font=r+" "+(u>>0)+"px "+i,o.fillStyle=l&&c.fontColor?c.fontColor:e.fontColor||s.fontColor;var v=[],m=String(e.text);if(p){var y=n.getWidth(d,t.col);v=Wn(o,En(m),(function(){return y}),g)}else v=m.split("\n");v.forEach((function(i,r){o.fillText(i,a+n.getOffsetX(o.measureText(i).width,t.col),h+n.getHeight(e.top,t.row)+(r+1)*n.getLength(f))}))}))})),null===(e=r.afterDraw)||void 0===e||e.call(this,o)},e.prototype.handleBackground=function(t,e,n,i,r){var o=this.ctx;return r.includes("linear-gradient")&&(r=function(t,e,n,i,r,o){var a=/linear-gradient\((.+)\)/.exec(o)[1].split(",").map((function(t){return t.trim()})),s=a.shift(),h=[0,0,0,0];if(s.includes("deg")){var c=function(t){return Math.tan(t/180*Math.PI)};(s=s.slice(0,-3)%360)>=0&&s<45?h=[e,n+r,e+i,n+r-i*c(s-0)]:s>=45&&s<90?h=[e,n+r,e+i-r*c(s-45),n]:s>=90&&s<135?h=[e+i,n+r,e+i-r*c(s-90),n]:s>=135&&s<180?h=[e+i,n+r,e,n+i*c(s-135)]:s>=180&&s<225?h=[e+i,n,e,n+i*c(s-180)]:s>=225&&s<270?h=[e+i,n,e+r*c(s-225),n+r]:s>=270&&s<315?h=[e,n,e+r*c(s-270),n+r]:s>=315&&s<360&&(h=[e,n,e+i,n+r-i*c(s-315)])}else s.includes("top")?h=[e,n+r,e,n]:s.includes("bottom")?h=[e,n,e,n+r]:s.includes("left")?h=[e+i,n,e,n]:s.includes("right")&&(h=[e,n,e+i,n]);var u=t.createLinearGradient.apply(t,h.map((function(t){return t>>0})));return a.reduce((function(t,e,n){var i=e.split(" ");return 1===i.length?t.addColorStop(n,i[0]):2===i.length&&t.addColorStop.apply(t,i),t}),u)}(o,t,e,n,i,r)),r},e.prototype.carveOnGunwaleOfAMovingBoat=function(){var t=this,e=t._defaultConfig,n=t.prizeFlag,i=t.currIndex;this.endTime=Date.now();for(var r=this.stopIndex=i,o=e.speed,a=0,s=0,h=0;++a;){var c=this.prizes.length*a+n-r,u=Kn(this.FPS,r,c,e.decelerationTime)-r;if(u>o){this.endIndex=o-s>u-o?c:h;break}h=c,s=u}},e.prototype.play=function(){var t,e;0===this.step&&(this.startTime=Date.now(),this.prizeFlag=void 0,this.step=1,null===(e=(t=this.config).afterStart)||void 0===e||e.call(t),this.run())},e.prototype.stop=function(t){if(0!==this.step&&3!==this.step){if(!t&&0!==t){var e=this.prizes.map((function(t){return t.range}));t=Hn(e)}t<0?(this.step=0,this.prizeFlag=-1):(this.step=2,this.prizeFlag=t%this.prizes.length)}},e.prototype.run=function(t){var e;void 0===t&&(t=0);var n=this,i=n.rAF,r=n.step,o=n.prizes,a=n.prizeFlag,s=n.stopIndex,h=n.endIndex,c=n._defaultConfig,u=c.accelerationTime,f=c.decelerationTime,l=c.speed;if(0!==r){if(-1!==a){3!==r||this.endIndex||this.carveOnGunwaleOfAMovingBoat();var p=Date.now()-this.startTime,d=Date.now()-this.endTime,g=this.currIndex;if(1===r||p<u){this.FPS=p/t;var v=Qn(p,.1,l-.1,u);v===l&&(this.step=2),g+=v%o.length}else 2===r?(g+=l%o.length,void 0!==a&&a>=0&&(this.step=3,this.stopIndex=0,this.endIndex=0)):3===r?(g=Kn(d,s,h,f),d>=f&&(this.step=0)):this.stop(-1);this.currIndex=g,this.draw(),i(this.run.bind(this,t+1))}}else null===(e=this.endCallback)||void 0===e||e.call(this,this.prizes.find((function(t,e){return e===a}))||{})},e.prototype.getGeometricProperty=function(t){var e=t[0],n=t[1],i=t[2],r=void 0===i?1:i,o=t[3],a=void 0===o?1:o,s=this.cellWidth,h=this.cellHeight,c=this._defaultConfig.gutter,u=[this.prizeArea.x+(s+c)*e,this.prizeArea.y+(h+c)*n];return r&&a&&u.push(s*r+c*(r-1),h*a+c*(a-1)),u},e.prototype.getWidth=function(t,e){return void 0===e&&(e=1),In(t,"number")?t:In(t,"string")?this.changeUnits(t,this.cellWidth*e+this._defaultConfig.gutter*(e-1)):0},e.prototype.getHeight=function(t,e){return void 0===e&&(e=1),In(t,"number")?t:In(t,"string")?this.changeUnits(t,this.cellHeight*e+this._defaultConfig.gutter*(e-1)):0},e.prototype.getOffsetX=function(t,e){return void 0===e&&(e=1),(this.cellWidth*e+this._defaultConfig.gutter*(e-1)-t)/2},e.prototype.conversionAxis=function(t,e){var n=this.config;return[t/n.dpr,e/n.dpr]}})(Jn),function(t){function e(e,n){var i,r=t.call(this,e,{width:n.width,height:n.height})||this;return r.blocks=[],r.prizes=[],r.slots=[],r.defaultConfig={},r._defaultConfig={},r.defaultStyle={},r._defaultStyle={},r.endCallback=function(){},r.cellWidth=0,r.cellHeight=0,r.cellAndSpacing=0,r.widthAndSpacing=0,r.heightAndSpacing=0,r.FPS=16.6,r.scroll=[],r.stopScroll=[],r.endScroll=[],r.startTime=0,r.endTime=0,r.step=0,r.prizeFlag=void 0,r.ImageCache={blocks:[],prizes:[]},r.initData(n),r.initWatch(),r.initComputed(),null===(i=e.beforeCreate)||void 0===i||i.call(r),r.init(),r}r(e,t),e.prototype.resize=function(){var e,n;t.prototype.resize.call(this),this.draw(),null===(n=(e=this.config).afterResize)||void 0===n||n.call(e)},e.prototype.initLucky=function(){this.cellWidth=0,this.cellHeight=0,this.cellAndSpacing=0,this.widthAndSpacing=0,this.heightAndSpacing=0,this.FPS=16.6,this.scroll=[],this.stopScroll=[],this.endScroll=[],this.startTime=0,this.endTime=0,this.prizeFlag=void 0,this.step=0,t.prototype.initLucky.call(this)},e.prototype.initData=function(t){this.$set(this,"width",t.width||"300px"),this.$set(this,"height",t.height||"300px"),this.$set(this,"blocks",t.blocks||[]),this.$set(this,"prizes",t.prizes||[]),this.$set(this,"slots",t.slots||[]),this.$set(this,"defaultConfig",t.defaultConfig||{}),this.$set(this,"defaultStyle",t.defaultStyle||{}),this.$set(this,"endCallback",t.end)},e.prototype.initComputed=function(){var t=this;this.$computed(this,"_defaultConfig",(function(){var e=o({mode:"vertical",rowSpacing:0,colSpacing:5,speed:20,direction:1,accelerationTime:2500,decelerationTime:2500},t.defaultConfig);return e.rowSpacing=t.getLength(e.rowSpacing),e.colSpacing=t.getLength(e.colSpacing),e})),this.$computed(this,"_defaultStyle",(function(){return o({borderRadius:0,fontColor:"#000",fontSize:"18px",fontStyle:"sans-serif",fontWeight:"400",background:"rgba(0,0,0,0)",wordWrap:!0,lengthLimit:"90%"},t.defaultStyle)}))},e.prototype.initWatch=function(){var t=this;this.$watch("width",(function(e){t.data.width=e,t.resize()})),this.$watch("height",(function(e){t.data.height=e,t.resize()})),this.$watch("blocks",(function(e){t.initImageCache()}),{deep:!0}),this.$watch("prizes",(function(e){t.initImageCache()}),{deep:!0}),this.$watch("slots",(function(e){t.drawOffscreenCanvas(),t.draw()}),{deep:!0}),this.$watch("defaultConfig",(function(){return t.draw()}),{deep:!0}),this.$watch("defaultStyle",(function(){return t.draw()}),{deep:!0}),this.$watch("endCallback",(function(){return t.init()}))},e.prototype.init=function(){var t,e;return a(this,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return this.initLucky(),n=this.config,null===(t=n.beforeInit)||void 0===t||t.call(this),this.drawOffscreenCanvas(),this.draw(),[4,this.initImageCache()];case 1:return i.sent(),null===(e=n.afterInit)||void 0===e||e.call(this),[2]}}))}))},e.prototype.initImageCache=function(){var t=this;return new Promise((function(e){var n={blocks:t.blocks.map((function(t){return t.imgs})),prizes:t.prizes.map((function(t){return t.imgs}))};Object.keys(n).forEach((function(i){var r=n[i],o=[];r&&r.forEach((function(e,n){e&&e.forEach((function(e,r){o.push(t.loadAndCacheImg(i,n,i,r))}))})),Promise.all(o).then((function(){t.drawOffscreenCanvas(),t.draw(),e()}))}))}))},e.prototype.loadAndCacheImg=function(t,e,n,i){return a(this,void 0,void 0,(function(){var r=this;return s(this,(function(o){return[2,new Promise((function(o,a){var s=r[t][e];if(s&&s.imgs){var h=s.imgs[i];if(h){var c=r.ImageCache;c[n][e]||(c[n][e]=[]),r.loadImg(h.src,h).then((function(t){"function"==typeof h.formatter&&(t=h.formatter.call(r,t)),c[n][e][i]=t,o()})).catch((function(n){console.error(t+"["+e+"].imgs["+i+"] "+n),a()}))}}}))]}))}))},e.prototype.computedWidthAndHeight=function(t,e,n,i){if(!e.width&&!e.height)return[t.width,t.height];if(e.width&&!e.height){var r=this.getWidth(e.width,n);return[r,t.height*(r/t.width)]}if(!e.width&&e.height){var o=this.getHeight(e.height,i);return[t.width*(o/t.height),o]}return[this.getWidth(e.width,n),this.getHeight(e.height,i)]},e.prototype.drawOffscreenCanvas=function(){var t=this,e=this._defaultConfig,n=this._defaultStyle,i=this.drawBlocks(),r=i.w,o=i.h,a=this.prizes.length,s=this.displacementWidthOrHeight(),h=s.cellWidth,c=s.cellHeight,u=s.widthAndSpacing,f=s.heightAndSpacing,l=new Array(a).fill(void 0).map((function(t,e){return e})),p=0,d=0;this.slots.forEach((function(e,n){void 0===t.scroll[n]&&(t.scroll[n]=0),e.order=e.order||l;var i=e.order.length;p=Math.max(p,r+u*i),d=Math.max(d,o+f*i)}));var g=this.getOffscreenCanvas(p,d),v=g._offscreenCanvas,m=g._ctx;this._offscreenCanvas=v,this.slots.forEach((function(i,r){var o=h*r,a=c*r,s=0,l=function(t,e){for(var n={},i=[],r=0;r<t.length;r++)n[r]=t[r];for(r=0;r<e.length;r++){var o=n[e[r]];o&&(i[r]=o)}return i}(t.prizes,i.order);if(l.length){l.forEach((function(r,l){if(r){var p=i.order[l],d=u*l+e.colSpacing/2,g=f*l+e.rowSpacing/2,v=t.displacement([o,g,f],[d,a,u]),y=v[0],w=v[1],b=v[2];s+=b;var S=r.background||n.background;if(Ln(S)){var x=t.getLength(An(r,"borderRadius")?r.borderRadius:n.borderRadius);jn(m,y,w,h,h,x),m.fillStyle=S,m.fill()}r.imgs&&r.imgs.forEach((function(e,n){var i=Rn(t.ImageCache,"prizes."+p+"."+n);if(i){var r=t.computedWidthAndHeight(i,e,h,c),o=r[0],a=r[1],s=[y+t.getOffsetX(o,h),w+t.getHeight(e.top,c)],u=s[0],f=s[1];t.drawImage(m,i,u,f,o,a)}})),r.fonts&&r.fonts.forEach((function(e){var i=e.fontStyle||n.fontStyle,r=e.fontWeight||n.fontWeight,o=t.getLength(e.fontSize||n.fontSize),a=e.lineHeight||n.lineHeight||e.fontSize||n.fontSize,s=Object.prototype.hasOwnProperty.call(e,"wordWrap")?e.wordWrap:n.wordWrap,u=e.lengthLimit||n.lengthLimit,f=e.lineClamp||n.lineClamp;m.font=r+" "+(o>>0)+"px "+i,m.fillStyle=e.fontColor||n.fontColor;var l=[],p=String(e.text);if(s){var d=t.getWidth(u,h);l=Wn(m,En(p),(function(){return d}),f)}else l=p.split("\n");l.forEach((function(n,i){m.fillText(n,y+t.getOffsetX(m.measureText(n).width,h),w+t.getHeight(e.top,c)+(i+1)*t.getLength(a))}))}))}}));for(var p=t.displacement([o,0,h,s],[0,a,s,c]),g=p[0],y=p[1],w=p[2],b=p[3],S=s;S<d+s;){var x=t.displacement([g,S],[S,y]),C=x[0],k=x[1];t.drawImage(m,v,g,y,w,b,C,k,w,b),S+=s}}}))},e.prototype.drawBlocks=function(){var t=this,e=this;e.config;var n=e.ctx;e._defaultConfig;var i=e._defaultStyle;return this.prizeArea=this.blocks.reduce((function(e,r,o){var a=e.x,s=e.y,h=e.w,c=e.h,u=Tn(r),f=u[0],l=u[1],p=u[2],d=u[3],g=r.borderRadius?t.getLength(r.borderRadius):0,v=r.background||i.background;return Ln(v)&&(jn(n,a,s,h,c,g),n.fillStyle=v,n.fill()),r.imgs&&r.imgs.forEach((function(e,i){var r=Rn(t.ImageCache,"blocks."+o+"."+i);if(r){var u=t.computedWidthAndHeight(r,e,h,c),f=u[0],l=u[1],p=[t.getOffsetX(f,h),t.getHeight(e.top,c)],d=p[0],g=p[1];t.drawImage(n,r,a+d,s+g,f,l)}})),{x:a+p,y:s+f,w:h-p-d,h:c-f-l}}),{x:0,y:0,w:this.boxWidth,h:this.boxHeight})},e.prototype.draw=function(){var t,e=this,n=this,i=n.config,r=n.ctx;n._defaultConfig,n._defaultStyle,null===(t=i.beforeDraw)||void 0===t||t.call(this,r),r.clearRect(0,0,this.boxWidth,this.boxHeight);var o=this.drawBlocks(),a=o.x,s=o.y,h=o.w,c=o.h;if(this._offscreenCanvas){var u=this,f=u.cellWidth,l=u.cellHeight,p=u.cellAndSpacing,d=u.widthAndSpacing,g=u.heightAndSpacing;this.slots.forEach((function(t,n){var i=p*t.order.length,o=e.displacement(-(c-g)/2,-(h-d)/2),u=e.scroll[n]+o;u<0&&(u=u%i+i),u>i&&(u%=i);var v=e.displacement([f*n,u,f,c],[u,l*n,h,l]),m=v[0],y=v[1],w=v[2],b=v[3],S=e.displacement([a+d*n,s,f,c],[a,s+g*n,h,l]),x=S[0],C=S[1],k=S[2],z=S[3];e.drawImage(r,e._offscreenCanvas,m,y,w,b,x,C,k,z)}))}},e.prototype.carveOnGunwaleOfAMovingBoat=function(){var t=this,e=this,n=e._defaultConfig,i=e.prizeFlag,r=e.cellAndSpacing;this.endTime=Date.now(),this.slots.forEach((function(e,o){var a=e.order;if(a.length)for(var s=e.speed||n.speed,h=e.direction||n.direction,c=a.findIndex((function(t){return t===i[o]})),u=r*a.length,f=t.stopScroll[o]=t.scroll[o],l=0;++l;){var p=r*c+u*l*h-f,d=Kn(t.FPS,f,p,n.decelerationTime)-f;if(Math.abs(d)>s){t.endScroll[o]=p;break}}}))},e.prototype.play=function(){0===this.step&&(this.startTime=Date.now(),this.prizeFlag=void 0,this.step=1,this.run())},e.prototype.stop=function(t){var e;if(0!==this.step&&3!==this.step){if("number"==typeof t)this.prizeFlag=new Array(this.slots.length).fill(t);else{if(!In(t,"array"))return this.stop(-1),console.error("stop() 无法识别的参数类型 "+typeof t);if(t.length!==this.slots.length)return this.stop(-1),console.error("stop(["+t+"]) 参数长度的不正确");this.prizeFlag=t}(null===(e=this.prizeFlag)||void 0===e?void 0:e.includes(-1))?(this.prizeFlag=[],this.step=0):this.step=2}},e.prototype.run=function(t){var e,n,i=this;void 0===t&&(t=0);var r=this,o=r.rAF,a=r.step,s=r.prizeFlag,h=r._defaultConfig,c=r.cellAndSpacing,u=r.slots,f=h.accelerationTime,l=h.decelerationTime;if(0!==this.step||(null==s?void 0:s.length)!==u.length){if(void 0===s||s.length){3!==this.step||this.endScroll.length||this.carveOnGunwaleOfAMovingBoat();var p=Date.now()-this.startTime,d=Date.now()-this.endTime;u.forEach((function(e,n){var r=e.order;if(r&&r.length){var o=c*r.length,g=Math.abs(e.speed||h.speed),v=e.direction||h.direction,m=0,y=i.scroll[n];if(1===a||p<f){i.FPS=p/t;var w=Qn(p,0,g,f);w===g&&(i.step=2),m=(y+w*v)%o}else if(2===a)m=(y+g*v)%o,(null==s?void 0:s.length)===u.length&&(i.step=3,i.stopScroll=[],i.endScroll=[]);else if(3===a&&d){var b=i.stopScroll[n],S=i.endScroll[n];m=Kn(d,b,S,l),d>=l&&(i.step=0)}i.scroll[n]=m}})),this.draw(),o(this.run.bind(this,t+1))}}else{for(var g=s[0],v=0;v<u.length;v++){var m=u[v],y=s[v];if(!(null===(e=m.order)||void 0===e?void 0:e.includes(y))||g!==y){g=-1;break}}null===(n=this.endCallback)||void 0===n||n.call(this,this.prizes.find((function(t,e){return e===g}))||void 0)}},e.prototype.displacement=function(t,e){return"horizontal"===this._defaultConfig.mode?e:t},e.prototype.displacementWidthOrHeight=function(){var t=this._defaultConfig.mode,e=this.slots.length,n=this._defaultConfig,i=n.colSpacing,r=n.rowSpacing,o=this.prizeArea||this.drawBlocks();o.x,o.y;var a,s,h=o.w,c=o.h,u=0,f=0;return"horizontal"===t?(f=this.cellHeight=(c-r*(e-1))/e,u=this.cellWidth=f):(u=this.cellWidth=(h-i*(e-1))/e,f=this.cellHeight=u),a=this.widthAndSpacing=this.cellWidth+i,s=this.heightAndSpacing=this.cellHeight+r,this.cellAndSpacing="horizontal"===t?a:s,{cellWidth:u,cellHeight:f,widthAndSpacing:a,heightAndSpacing:s}},e.prototype.getWidth=function(t,e){return In(t,"number")?t:In(t,"string")?this.changeUnits(t,e):0},e.prototype.getHeight=function(t,e){return In(t,"number")?t:In(t,"string")?this.changeUnits(t,e):0},e.prototype.getOffsetX=function(t,e){return(e-t)/2}}(Jn)},715:function(t,e,n){"use strict";var i=n(3),r=n(1),o=n(4),a=n(88),s=n(622),h=n(716),c=n(5),u=r.RangeError,f=r.String,l=Math.floor,p=o(h),d=o("".slice),g=o(1..toFixed),v=function(t,e,n){return 0===e?n:e%2==1?v(t,e-1,n*t):v(t*t,e/2,n)},m=function(t,e,n){for(var i=-1,r=n;++i<6;)r+=e*t[i],t[i]=r%1e7,r=l(r/1e7)},y=function(t,e){for(var n=6,i=0;--n>=0;)i+=t[n],t[n]=l(i/e),i=i%e*1e7},w=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var i=f(t[e]);n=""===n?i:n+p("0",7-i.length)+i}return n};i({target:"Number",proto:!0,forced:c((function(){return"0.000"!==g(8e-5,3)||"1"!==g(.9,0)||"1.25"!==g(1.255,2)||"1000000000000000128"!==g(0xde0b6b3a7640080,0)}))||!c((function(){g({})}))},{toFixed:function(t){var e,n,i,r,o=s(this),h=a(t),c=[0,0,0,0,0,0],l="",g="0";if(h<0||h>20)throw u("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return f(o);if(o<0&&(l="-",o=-o),o>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(o*v(2,69,1))-69)<0?o*v(2,-e,1):o/v(2,e,1),n*=4503599627370496,(e=52-e)>0){for(m(c,0,n),i=h;i>=7;)m(c,1e7,0),i-=7;for(m(c,v(10,i,1),0),i=e-1;i>=23;)y(c,1<<23),i-=23;y(c,1<<i),m(c,1,1),y(c,2),g=w(c)}else m(c,0,n),m(c,1<<-e,0),g=w(c)+p("0",h);return g=h>0?l+((r=g.length)<=h?"0."+p("0",h-r)+g:d(g,0,r-h)+"."+d(g,r-h)):l+g}})},716:function(t,e,n){"use strict";var i=n(1),r=n(88),o=n(21),a=n(34),s=i.RangeError;t.exports=function(t){var e=o(a(this)),n="",i=r(t);if(i<0||i==1/0)throw s("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},720:function(t,e,n){"use strict";var i=n(3),r=n(52).findIndex,o=n(131),a=!0;"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},721:function(t,e,n){var i=n(3),r=n(1),o=n(4),a=r.Date,s=o(a.prototype.getTime);i({target:"Date",stat:!0},{now:function(){return s(new a)}})},722:function(t,e,n){var i=n(4),r=n(50),o=Date.prototype,a=i(o.toString),s=i(o.getTime);"Invalid Date"!=String(new Date(NaN))&&r(o,"toString",(function(){var t=s(this);return t==t?a(this):"Invalid Date"}))},723:function(t,e,n){"use strict";n(22);var i,r=n(3),o=n(17),a=n(640),s=n(1),h=n(207),c=n(4),u=n(336),f=n(50),l=n(614),p=n(12),d=n(724),g=n(348),v=n(209),m=n(217).codeAt,y=n(725),w=n(21),b=n(89),S=n(641),x=n(64),C=x.set,k=x.getterFor("URL"),z=S.URLSearchParams,O=S.getState,P=s.URL,I=s.TypeError,R=s.parseInt,A=Math.floor,E=Math.pow,L=c("".charAt),T=c(/./.exec),H=c([].join),W=c(1..toString),_=c([].pop),j=c([].push),$=c("".replace),F=c([].shift),D=c("".split),U=c("".slice),M=c("".toLowerCase),B=c([].unshift),q=/[a-z]/i,N=/[\d+-.a-z]/i,X=/\d/,G=/^0x/i,Y=/^[0-7]+$/,J=/^\d+$/,Q=/^[\da-f]+$/i,K=/[\0\t\n\r #%/:<>?@[\\\]^|]/,V=/[\0\t\n\r #/:<>?@[\\\]^|]/,Z=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,tt=/[\t\n\r]/g,et=function(t){var e,n,i,r;if("number"==typeof t){for(e=[],n=0;n<4;n++)B(e,t%256),t=A(t/256);return H(e,".")}if("object"==typeof t){for(e="",i=function(t){for(var e=null,n=1,i=null,r=0,o=0;o<8;o++)0!==t[o]?(r>n&&(e=i,n=r),i=null,r=0):(null===i&&(i=o),++r);return r>n&&(e=i,n=r),e}(t),n=0;n<8;n++)r&&0===t[n]||(r&&(r=!1),i===n?(e+=n?":":"::",r=!0):(e+=W(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},nt={},it=d({},nt,{" ":1,'"':1,"<":1,">":1,"`":1}),rt=d({},it,{"#":1,"?":1,"{":1,"}":1}),ot=d({},rt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),at=function(t,e){var n=m(t,0);return n>32&&n<127&&!p(e,t)?t:encodeURIComponent(t)},st={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ht=function(t,e){var n;return 2==t.length&&T(q,L(t,0))&&(":"==(n=L(t,1))||!e&&"|"==n)},ct=function(t){var e;return t.length>1&&ht(U(t,0,2))&&(2==t.length||"/"===(e=L(t,2))||"\\"===e||"?"===e||"#"===e)},ut=function(t){return"."===t||"%2e"===M(t)},ft={},lt={},pt={},dt={},gt={},vt={},mt={},yt={},wt={},bt={},St={},xt={},Ct={},kt={},zt={},Ot={},Pt={},It={},Rt={},At={},Et={},Lt=function(t,e,n){var i,r,o,a=w(t);if(e){if(r=this.parse(a))throw I(r);this.searchParams=null}else{if(void 0!==n&&(i=new Lt(n,!0)),r=this.parse(a,null,i))throw I(r);(o=O(new z)).bindURL(this),this.searchParams=o}};Lt.prototype={type:"URL",parse:function(t,e,n){var r,o,a,s,h,c=this,u=e||ft,f=0,l="",d=!1,m=!1,y=!1;for(t=w(t),e||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=$(t,Z,"")),t=$(t,tt,""),r=g(t);f<=r.length;){switch(o=r[f],u){case ft:if(!o||!T(q,o)){if(e)return"Invalid scheme";u=pt;continue}l+=M(o),u=lt;break;case lt:if(o&&(T(N,o)||"+"==o||"-"==o||"."==o))l+=M(o);else{if(":"!=o){if(e)return"Invalid scheme";l="",u=pt,f=0;continue}if(e&&(c.isSpecial()!=p(st,l)||"file"==l&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=l,e)return void(c.isSpecial()&&st[c.scheme]==c.port&&(c.port=null));l="","file"==c.scheme?u=kt:c.isSpecial()&&n&&n.scheme==c.scheme?u=dt:c.isSpecial()?u=yt:"/"==r[f+1]?(u=gt,f++):(c.cannotBeABaseURL=!0,j(c.path,""),u=Rt)}break;case pt:if(!n||n.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(n.cannotBeABaseURL&&"#"==o){c.scheme=n.scheme,c.path=v(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,u=Et;break}u="file"==n.scheme?kt:vt;continue;case dt:if("/"!=o||"/"!=r[f+1]){u=vt;continue}u=wt,f++;break;case gt:if("/"==o){u=bt;break}u=It;continue;case vt:if(c.scheme=n.scheme,o==i)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query=n.query;else if("/"==o||"\\"==o&&c.isSpecial())u=mt;else if("?"==o)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query="",u=At;else{if("#"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.path.length--,u=It;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query=n.query,c.fragment="",u=Et}break;case mt:if(!c.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,u=It;continue}u=bt}else u=wt;break;case yt:if(u=wt,"/"!=o||"/"!=L(l,f+1))continue;f++;break;case wt:if("/"!=o&&"\\"!=o){u=bt;continue}break;case bt:if("@"==o){d&&(l="%40"+l),d=!0,a=g(l);for(var b=0;b<a.length;b++){var S=a[b];if(":"!=S||y){var x=at(S,ot);y?c.password+=x:c.username+=x}else y=!0}l=""}else if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(d&&""==l)return"Invalid authority";f-=g(l).length+1,l="",u=St}else l+=o;break;case St:case xt:if(e&&"file"==c.scheme){u=Ot;continue}if(":"!=o||m){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(c.isSpecial()&&""==l)return"Invalid host";if(e&&""==l&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(l))return s;if(l="",u=Pt,e)return;continue}"["==o?m=!0:"]"==o&&(m=!1),l+=o}else{if(""==l)return"Invalid host";if(s=c.parseHost(l))return s;if(l="",u=Ct,e==xt)return}break;case Ct:if(!T(X,o)){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()||e){if(""!=l){var C=R(l,10);if(C>65535)return"Invalid port";c.port=c.isSpecial()&&C===st[c.scheme]?null:C,l=""}if(e)return;u=Pt;continue}return"Invalid port"}l+=o;break;case kt:if(c.scheme="file","/"==o||"\\"==o)u=zt;else{if(!n||"file"!=n.scheme){u=It;continue}if(o==i)c.host=n.host,c.path=v(n.path),c.query=n.query;else if("?"==o)c.host=n.host,c.path=v(n.path),c.query="",u=At;else{if("#"!=o){ct(H(v(r,f),""))||(c.host=n.host,c.path=v(n.path),c.shortenPath()),u=It;continue}c.host=n.host,c.path=v(n.path),c.query=n.query,c.fragment="",u=Et}}break;case zt:if("/"==o||"\\"==o){u=Ot;break}n&&"file"==n.scheme&&!ct(H(v(r,f),""))&&(ht(n.path[0],!0)?j(c.path,n.path[0]):c.host=n.host),u=It;continue;case Ot:if(o==i||"/"==o||"\\"==o||"?"==o||"#"==o){if(!e&&ht(l))u=It;else if(""==l){if(c.host="",e)return;u=Pt}else{if(s=c.parseHost(l))return s;if("localhost"==c.host&&(c.host=""),e)return;l="",u=Pt}continue}l+=o;break;case Pt:if(c.isSpecial()){if(u=It,"/"!=o&&"\\"!=o)continue}else if(e||"?"!=o)if(e||"#"!=o){if(o!=i&&(u=It,"/"!=o))continue}else c.fragment="",u=Et;else c.query="",u=At;break;case It:if(o==i||"/"==o||"\\"==o&&c.isSpecial()||!e&&("?"==o||"#"==o)){if(".."===(h=M(h=l))||"%2e."===h||".%2e"===h||"%2e%2e"===h?(c.shortenPath(),"/"==o||"\\"==o&&c.isSpecial()||j(c.path,"")):ut(l)?"/"==o||"\\"==o&&c.isSpecial()||j(c.path,""):("file"==c.scheme&&!c.path.length&&ht(l)&&(c.host&&(c.host=""),l=L(l,0)+":"),j(c.path,l)),l="","file"==c.scheme&&(o==i||"?"==o||"#"==o))for(;c.path.length>1&&""===c.path[0];)F(c.path);"?"==o?(c.query="",u=At):"#"==o&&(c.fragment="",u=Et)}else l+=at(o,rt);break;case Rt:"?"==o?(c.query="",u=At):"#"==o?(c.fragment="",u=Et):o!=i&&(c.path[0]+=at(o,nt));break;case At:e||"#"!=o?o!=i&&("'"==o&&c.isSpecial()?c.query+="%27":c.query+="#"==o?"%23":at(o,nt)):(c.fragment="",u=Et);break;case Et:o!=i&&(c.fragment+=at(o,it))}f++}},parseHost:function(t){var e,n,i;if("["==L(t,0)){if("]"!=L(t,t.length-1))return"Invalid host";if(!(e=function(t){var e,n,i,r,o,a,s,h=[0,0,0,0,0,0,0,0],c=0,u=null,f=0,l=function(){return L(t,f)};if(":"==l()){if(":"!=L(t,1))return;f+=2,u=++c}for(;l();){if(8==c)return;if(":"!=l()){for(e=n=0;n<4&&T(Q,l());)e=16*e+R(l(),16),f++,n++;if("."==l()){if(0==n)return;if(f-=n,c>6)return;for(i=0;l();){if(r=null,i>0){if(!("."==l()&&i<4))return;f++}if(!T(X,l()))return;for(;T(X,l());){if(o=R(l(),10),null===r)r=o;else{if(0==r)return;r=10*r+o}if(r>255)return;f++}h[c]=256*h[c]+r,2!=++i&&4!=i||c++}if(4!=i)return;break}if(":"==l()){if(f++,!l())return}else if(l())return;h[c++]=e}else{if(null!==u)return;f++,u=++c}}if(null!==u)for(a=c-u,c=7;0!=c&&a>0;)s=h[c],h[c--]=h[u+a-1],h[u+--a]=s;else if(8!=c)return;return h}(U(t,1,-1))))return"Invalid host";this.host=e}else if(this.isSpecial()){if(t=y(t),T(K,t))return"Invalid host";if(null===(e=function(t){var e,n,i,r,o,a,s,h=D(t,".");if(h.length&&""==h[h.length-1]&&h.length--,(e=h.length)>4)return t;for(n=[],i=0;i<e;i++){if(""==(r=h[i]))return t;if(o=10,r.length>1&&"0"==L(r,0)&&(o=T(G,r)?16:8,r=U(r,8==o?1:2)),""===r)a=0;else{if(!T(10==o?J:8==o?Y:Q,r))return t;a=R(r,o)}j(n,a)}for(i=0;i<e;i++)if(a=n[i],i==e-1){if(a>=E(256,5-e))return null}else if(a>255)return null;for(s=_(n),i=0;i<n.length;i++)s+=n[i]*E(256,3-i);return s}(t)))return"Invalid host";this.host=e}else{if(T(V,t))return"Invalid host";for(e="",n=g(t),i=0;i<n.length;i++)e+=at(n[i],nt);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(st,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&ht(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,i=t.password,r=t.host,o=t.port,a=t.path,s=t.query,h=t.fragment,c=e+":";return null!==r?(c+="//",t.includesCredentials()&&(c+=n+(i?":"+i:"")+"@"),c+=et(r),null!==o&&(c+=":"+o)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+H(a,"/"):"",null!==s&&(c+="?"+s),null!==h&&(c+="#"+h),c},setHref:function(t){var e=this.parse(t);if(e)throw I(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Tt(t.path[0]).origin}catch(t){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+et(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(w(t)+":",ft)},getUsername:function(){return this.username},setUsername:function(t){var e=g(w(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<e.length;n++)this.username+=at(e[n],ot)}},getPassword:function(){return this.password},setPassword:function(t){var e=g(w(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<e.length;n++)this.password+=at(e[n],ot)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?et(t):et(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,St)},getHostname:function(){var t=this.host;return null===t?"":et(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,xt)},getPort:function(){var t=this.port;return null===t?"":w(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""==(t=w(t))?this.port=null:this.parse(t,Ct))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+H(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Pt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""==(t=w(t))?this.query=null:("?"==L(t,0)&&(t=U(t,1)),this.query="",this.parse(t,At)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!=(t=w(t))?("#"==L(t,0)&&(t=U(t,1)),this.fragment="",this.parse(t,Et)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Tt=function(t){var e=l(this,Ht),n=arguments.length>1?arguments[1]:void 0,i=C(e,new Lt(t,!1,n));o||(e.href=i.serialize(),e.origin=i.getOrigin(),e.protocol=i.getProtocol(),e.username=i.getUsername(),e.password=i.getPassword(),e.host=i.getHost(),e.hostname=i.getHostname(),e.port=i.getPort(),e.pathname=i.getPathname(),e.search=i.getSearch(),e.searchParams=i.getSearchParams(),e.hash=i.getHash())},Ht=Tt.prototype,Wt=function(t,e){return{get:function(){return k(this)[t]()},set:e&&function(t){return k(this)[e](t)},configurable:!0,enumerable:!0}};if(o&&u(Ht,{href:Wt("serialize","setHref"),origin:Wt("getOrigin"),protocol:Wt("getProtocol","setProtocol"),username:Wt("getUsername","setUsername"),password:Wt("getPassword","setPassword"),host:Wt("getHost","setHost"),hostname:Wt("getHostname","setHostname"),port:Wt("getPort","setPort"),pathname:Wt("getPathname","setPathname"),search:Wt("getSearch","setSearch"),searchParams:Wt("getSearchParams"),hash:Wt("getHash","setHash")}),f(Ht,"toJSON",(function(){return k(this).serialize()}),{enumerable:!0}),f(Ht,"toString",(function(){return k(this).serialize()}),{enumerable:!0}),P){var _t=P.createObjectURL,jt=P.revokeObjectURL;_t&&f(Tt,"createObjectURL",h(_t,P)),jt&&f(Tt,"revokeObjectURL",h(jt,P))}b(Tt,"URL"),r({global:!0,forced:!a,sham:!o},{URL:Tt})},724:function(t,e,n){"use strict";var i=n(17),r=n(4),o=n(13),a=n(5),s=n(135),h=n(216),c=n(215),u=n(23),f=n(92),l=Object.assign,p=Object.defineProperty,d=r([].concat);t.exports=!l||a((function(){if(i&&1!==l({b:1},l(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||"abcdefghijklmnopqrst"!=s(l({},e)).join("")}))?function(t,e){for(var n=u(t),r=arguments.length,a=1,l=h.f,p=c.f;r>a;)for(var g,v=f(arguments[a++]),m=l?d(s(v),l(v)):s(v),y=m.length,w=0;y>w;)g=m[w++],i&&!o(p,v,g)||(n[g]=v[g]);return n}:l},725:function(t,e,n){"use strict";var i=n(1),r=n(4),o=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",h=i.RangeError,c=r(a.exec),u=Math.floor,f=String.fromCharCode,l=r("".charCodeAt),p=r([].join),d=r([].push),g=r("".replace),v=r("".split),m=r("".toLowerCase),y=function(t){return t+22+75*(t<26)},w=function(t,e,n){var i=0;for(t=n?u(t/700):t>>1,t+=u(t/e);t>455;)t=u(t/35),i+=36;return u(i+36*t/(t+38))},b=function(t){var e,n,i=[],r=(t=function(t){for(var e=[],n=0,i=t.length;n<i;){var r=l(t,n++);if(r>=55296&&r<=56319&&n<i){var o=l(t,n++);56320==(64512&o)?d(e,((1023&r)<<10)+(1023&o)+65536):(d(e,r),n--)}else d(e,r)}return e}(t)).length,o=128,a=0,c=72;for(e=0;e<t.length;e++)(n=t[e])<128&&d(i,f(n));var g=i.length,v=g;for(g&&d(i,"-");v<r;){var m=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=o&&n<m&&(m=n);var b=v+1;if(m-o>u((2147483647-a)/b))throw h(s);for(a+=(m-o)*b,o=m,e=0;e<t.length;e++){if((n=t[e])<o&&++a>2147483647)throw h(s);if(n==o){for(var S=a,x=36;;){var C=x<=c?1:x>=c+26?26:x-c;if(S<C)break;var k=S-C,z=36-C;d(i,f(y(C+k%z))),S=u(k/z),x+=36}d(i,f(y(S))),c=w(a,b,v==g),a=0,v++}}a++,o++}return p(i,"")};t.exports=function(t){var e,n,i=[],r=v(g(m(t),a,"."),".");for(e=0;e<r.length;e++)n=r[e],d(i,c(o,n)?"xn--"+b(n):n);return p(i,".")}},726:function(t,e,n){var i=n(209),r=Math.floor,o=function(t,e){var n=t.length,h=r(n/2);return n<8?a(t,e):s(t,o(i(t,0,h),e),o(i(t,h),e),e)},a=function(t,e){for(var n,i,r=t.length,o=1;o<r;){for(i=o,n=t[o];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==o++&&(t[i]=n)}return t},s=function(t,e,n,i){for(var r=e.length,o=n.length,a=0,s=0;a<r||s<o;)t[a+s]=a<r&&s<o?i(e[a],n[s])<=0?e[a++]:n[s++]:a<r?e[a++]:n[s++];return t};t.exports=o}}]);