(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{605:function(t,e,n){var i=n(1),r=n(128),o=i.TypeError;t.exports=function(t,e){if(r(e,t))return t;throw o("Incorrect invocation")}},610:function(t,e,n){"use strict";var i=n(4),r=n(1),o=n(207),a=n(89),s=n(51),h=n(22),u=n(216),c=n(94),l=n(95)("splice"),f=r.TypeError,d=Math.max,p=Math.min;i({target:"Array",proto:!0,forced:!l},{splice:function(t,e){var n,i,r,l,g,v,m=h(this),y=s(m),w=o(t,y),b=arguments.length;if(0===b?n=i=0:1===b?(n=0,i=y-w):(n=b-2,i=p(d(a(e),0),y-w)),y+n-i>9007199254740991)throw f("Maximum allowed length exceeded");for(r=u(m,i),l=0;l<i;l++)(g=w+l)in m&&c(r,l,m[g]);if(r.length=i,n<i){for(l=w;l<y-i;l++)v=l+n,(g=l+i)in m?m[v]=m[g]:delete m[v];for(l=y;l>y-i+n;l--)delete m[l-1]}else if(n>i)for(l=y-i;l>w;l--)v=l+n-1,(g=l+i-1)in m?m[v]=m[g]:delete m[v];for(l=0;l<n;l++)m[l+w]=arguments[l+2];return m.length=y-i+n,r}})},611:function(t,e,n){var i=n(3);t.exports=i(1..valueOf)},612:function(t,e,n){var i=n(50);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},630:function(t,e,n){var i=n(5),r=n(6),o=n(69),a=r("iterator");t.exports=!i((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,i){e.delete("b"),n+=i+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},631:function(t,e,n){"use strict";n(341);var i=n(4),r=n(1),o=n(38),a=n(13),s=n(3),h=n(630),u=n(50),c=n(612),l=n(130),f=n(340),d=n(65),p=n(605),g=n(7),v=n(10),m=n(206),y=n(91),w=n(9),b=n(11),k=n(21),S=n(39),x=n(70),C=n(336),z=n(209),$=n(6),L=n(722),I=$("iterator"),A=d.set,R=d.getterFor("URLSearchParams"),O=d.getterFor("URLSearchParamsIterator"),T=o("fetch"),P=o("Request"),E=o("Headers"),W=P&&P.prototype,_=E&&E.prototype,F=r.RegExp,D=r.TypeError,j=r.decodeURIComponent,B=r.encodeURIComponent,M=s("".charAt),U=s([].join),H=s([].push),q=s("".replace),N=s([].shift),X=s([].splice),G=s("".split),J=s("".slice),Y=/\+/g,V=Array(4),K=function(t){return V[t-1]||(V[t-1]=F("((?:%[\\da-f]{2}){"+t+"})","gi"))},Q=function(t){try{return j(t)}catch(e){return t}},Z=function(t){var e=q(t,Y," "),n=4;try{return j(e)}catch(t){for(;n;)e=q(e,K(n--),Q);return e}},tt=/[!'()~]|%20/g,et={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},nt=function(t){return et[t]},it=function(t){return q(B(t),tt,nt)},rt=function(t,e){if(e)for(var n,i,r=G(e,"&"),o=0;o<r.length;)(n=r[o++]).length&&(i=G(n,"="),H(t,{key:Z(N(i)),value:Z(U(i,"="))}))},ot=function(t){this.entries.length=0,rt(this.entries,t)},at=function(t,e){if(t<e)throw D("Not enough arguments")},st=f((function(t,e){A(this,{type:"URLSearchParamsIterator",iterator:C(R(t).entries),kind:e})}),"Iterator",(function(){var t=O(this),e=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value="keys"===e?i.key:"values"===e?i.value:[i.key,i.value]),n})),ht=function(){p(this,ut);var t,e,n,i,r,o,s,h,u,c=arguments.length>0?arguments[0]:void 0,l=this,f=[];if(A(l,{type:"URLSearchParams",entries:f,updateURL:function(){},updateSearchParams:ot}),void 0!==c)if(b(c))if(t=z(c))for(n=(e=C(c,t)).next;!(i=a(n,e)).done;){if(o=(r=C(w(i.value))).next,(s=a(o,r)).done||(h=a(o,r)).done||!a(o,r).done)throw D("Expected sequence with length 2");H(f,{key:k(s.value),value:k(h.value)})}else for(u in c)v(c,u)&&H(f,{key:u,value:k(c[u])});else rt(f,"string"==typeof c?"?"===M(c,0)?J(c,1):c:k(c))},ut=ht.prototype;if(c(ut,{append:function(t,e){at(arguments.length,2);var n=R(this);H(n.entries,{key:k(t),value:k(e)}),n.updateURL()},delete:function(t){at(arguments.length,1);for(var e=R(this),n=e.entries,i=k(t),r=0;r<n.length;)n[r].key===i?X(n,r,1):r++;e.updateURL()},get:function(t){at(arguments.length,1);for(var e=R(this).entries,n=k(t),i=0;i<e.length;i++)if(e[i].key===n)return e[i].value;return null},getAll:function(t){at(arguments.length,1);for(var e=R(this).entries,n=k(t),i=[],r=0;r<e.length;r++)e[r].key===n&&H(i,e[r].value);return i},has:function(t){at(arguments.length,1);for(var e=R(this).entries,n=k(t),i=0;i<e.length;)if(e[i++].key===n)return!0;return!1},set:function(t,e){at(arguments.length,1);for(var n,i=R(this),r=i.entries,o=!1,a=k(t),s=k(e),h=0;h<r.length;h++)(n=r[h]).key===a&&(o?X(r,h--,1):(o=!0,n.value=s));o||H(r,{key:a,value:s}),i.updateURL()},sort:function(){var t=R(this);L(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=R(this).entries,i=m(t,arguments.length>1?arguments[1]:void 0),r=0;r<n.length;)i((e=n[r++]).value,e.key,this)},keys:function(){return new st(this,"keys")},values:function(){return new st(this,"values")},entries:function(){return new st(this,"entries")}},{enumerable:!0}),u(ut,I,ut.entries,{name:"entries"}),u(ut,"toString",(function(){for(var t,e=R(this).entries,n=[],i=0;i<e.length;)t=e[i++],H(n,it(t.key)+"="+it(t.value));return U(n,"&")}),{enumerable:!0}),l(ht,"URLSearchParams"),i({global:!0,forced:!h},{URLSearchParams:ht}),!h&&g(E)){var ct=s(_.has),lt=s(_.set),ft=function(t){if(b(t)){var e,n=t.body;if("URLSearchParams"===y(n))return e=t.headers?new E(t.headers):new E,ct(e,"content-type")||lt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(t,{body:x(0,k(n)),headers:x(0,e)})}return t};if(g(T)&&i({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return T(t,arguments.length>1?ft(arguments[1]):{})}}),g(P)){var dt=function(t){return p(this,W),new P(t,arguments.length>1?ft(arguments[1]):{})};W.constructor=dt,dt.prototype=W,i({global:!0,forced:!0},{Request:dt})}}t.exports={URLSearchParams:ht,getState:R}},709:function(t,e,n){"use strict";n.d(e,"a",(function(){return D}));var i=n(37),r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function h(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{h(i.next(t))}catch(t){o(t)}}function s(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}h((i=i.apply(t,e||[])).next())}))}function u(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function c(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0===i)return!1;for(var r,o,a=0|e,s=Math.max(a>=0?a:i-Math.abs(a),0);s<i;){if((r=n[s])===(o=t)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;s++}return!1}}),String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=e[r];if(t.call(i,o,r,e))return o;r++}}});var l=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.some((function(e){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()===e}))},f=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},d=function(t){return[].filter.call(t,(function(t){return"\n"!==t})).join("")},p=function(t){return"string"==typeof t&&("transparent"!==(t=t.toLocaleLowerCase().trim())&&(!/^rgba/.test(t)||0!==(null===(e=/([^\s,]+)\)$/.exec(t))?0:"object"==typeof e?NaN:"number"==typeof e?e:"string"==typeof e?"%"===e[e.length-1]?Number(e.slice(0,-1))/100:Number(e):NaN)));var e},g=function(t){var e,n=(null===(e=t.padding)||void 0===e?void 0:e.replace(/px/g,"").split(" ").map((function(t){return~~t})))||[0],i=0,r=0,o=0,a=0;switch(n.length){case 1:i=r=o=a=n[0];break;case 2:i=r=n[0],o=a=n[1];break;case 3:i=n[0],o=a=n[1],r=n[2];break;default:i=n[0],r=n[1],o=n[2],a=n[3]}var s={paddingTop:i,paddingBottom:r,paddingLeft:o,paddingRight:a};for(var h in s)s[h]=f(t,h)&&l(t[h],"string","number")?~~String(t[h]).replace(/px/g,""):s[h];return[i,r,o,a]},v=function(t){var e=[],n=t.map((function(t){return Number(t)})).reduce((function(t,n){if(n>0){var i=t+n;return e.push(i),i}return e.push(NaN),t}),0),i=Math.random()*n;return e.findIndex((function(t){return i<=t}))},m=function(t,e,n,i){void 0===i&&(i=1/0),i<=0&&(i=1/0);for(var r="",o=[],a=t.measureText("...").width,s=0;s<e.length;s++){r+=e[s];var h=t.measureText(r).width,u=n(o);if(i===o.length+1&&(h+=a),u<0)return o;if(h>u&&(o.push(r.slice(0,-1)),r=e[s]),i===o.length)return o[o.length-1]+="...",o}return r&&o.push(r),o.length||o.push(e),o},y=function(){function t(){this.subs=[]}return t.prototype.addSub=function(t){this.subs.includes(t)||this.subs.push(t)},t.prototype.notify=function(){this.subs.forEach((function(t){t.update()}))},t}(),w="__proto__"in{};function b(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var k=Array.prototype,S=Object.create(k);["push","pop","shift","unshift","sort","splice","reverse"].forEach((function(t){S[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=k[t].apply(this,e),r=this.__luckyOb__;return["push","unshift","splice"].includes(t)&&r.walk(this),r.dep.notify(),i}}));var x=function(){function t(t){this.dep=new y,b(t,"__luckyOb__",this),Array.isArray(t)&&(w?t.__proto__=S:Object.getOwnPropertyNames(S).forEach((function(e){b(t,e,S[e])}))),this.walk(t)}return t.prototype.walk=function(t){Object.keys(t).forEach((function(e){z(t,e,t[e])}))},t}();function C(t){if(t&&"object"==typeof t)return"__luckyOb__"in t?t.__luckyOb__:new x(t)}function z(t,e,n){var i=new y,r=Object.getOwnPropertyDescriptor(t,e);if(!r||!1!==r.configurable){var o=r&&r.get,a=r&&r.set;o&&!a||2!==arguments.length||(n=t[e]);var s=C(n);Object.defineProperty(t,e,{get:function(){var e=o?o.call(t):n;return y.target&&(i.addSub(y.target),s&&s.dep.addSub(y.target)),e},set:function(e){e!==n&&(n=e,o&&!a||(a?a.call(t,e):n=e,s=C(e),i.notify()))}})}}var $=0,L=function(){function t(t,e,n,i){void 0===i&&(i={}),this.id=$++,this.$lucky=t,this.expr=e,this.deep=!!i.deep,this.getter="function"==typeof e?e:function(t){t+=".";for(var e=[],n="",i=0;i<t.length;i++){var r=t[i];if(/\[|\./.test(r))e.push(n),n="";else{if(/\W/.test(r))continue;n+=r}}return function(t){return e.reduce((function(t,e){return t[e]}),t)}}(e),this.cb=n,this.value=this.get()}return t.prototype.get=function(){y.target=this;var t=this.getter.call(this.$lucky,this.$lucky);return this.deep&&function(t){var e=function(t){l(t,"array","object")&&Object.keys(t).forEach((function(n){var i=t[n];e(i)}))};e(t)}(t),y.target=null,t},t.prototype.update=function(){var t=this.get(),e=this.value;this.value=t,this.cb.call(this.$lucky,t,e)},t}(),I=function(){function t(t,e){var n=this;this.version="1.7.20",this.htmlFontSize=16,this.rAF=function(){},this.boxWidth=0,this.boxHeight=0,"string"==typeof t?t={el:t}:1===t.nodeType&&(t={el:"",divElement:t}),t=t,this.config=t,this.data=e,t.flag||(t.flag="WEB"),t.el&&(t.divElement=document.querySelector(t.el)),t.divElement&&(t.canvasElement=document.createElement("canvas"),t.divElement.appendChild(t.canvasElement)),t.canvasElement&&(t.ctx=t.canvasElement.getContext("2d"),t.canvasElement.setAttribute("package","lucky-canvas@1.7.20"),t.canvasElement.addEventListener("click",(function(t){return n.handleClick(t)}))),this.ctx=t.ctx,this.initWindowFunction(),this.config.ctx||console.error("无法获取到 CanvasContext2D"),window&&"function"==typeof window.addEventListener&&window.addEventListener("resize",function(t,e){void 0===e&&(e=300);var n=null;return function(){for(var i=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n||(n=setTimeout((function(){t.apply(i,r),clearTimeout(n),n=null}),e))}}((function(){return n.resize()}),300)),window&&"function"==typeof window.MutationObserver&&new window.MutationObserver((function(){n.resize()})).observe(document.documentElement,{attributes:!0})}return t.prototype.resize=function(){var t,e;null===(e=(t=this.config).beforeResize)||void 0===e||e.call(t),this.setHTMLFontSize(),this.setDpr(),this.resetWidthAndHeight(),this.zoomCanvas()},t.prototype.initLucky=function(){if(this.resize(),!this.boxWidth||!this.boxHeight)return console.error("无法获取到宽度或高度")},t.prototype.handleClick=function(t){},t.prototype.setHTMLFontSize=function(){window&&(this.htmlFontSize=+window.getComputedStyle(document.documentElement).fontSize.slice(0,-2))},t.prototype.clearCanvas=function(){var t=[this.boxWidth,this.boxHeight],e=t[0],n=t[1];this.ctx.clearRect(-e,-n,2*e,2*n)},t.prototype.setDpr=function(){var t=this.config;t.dpr||(window?window.dpr=t.dpr=window.devicePixelRatio||1:t.dpr||console.error(t,"未传入 dpr 可能会导致绘制异常"))},t.prototype.resetWidthAndHeight=function(){var t=this.config,e=this.data,n=0,i=0;t.divElement&&(n=t.divElement.offsetWidth,i=t.divElement.offsetHeight),this.boxWidth=this.getLength(e.width||t.width)||n,this.boxHeight=this.getLength(e.height||t.height)||i,t.divElement&&(t.divElement.style.overflow="hidden",t.divElement.style.width=this.boxWidth+"px",t.divElement.style.height=this.boxHeight+"px")},t.prototype.zoomCanvas=function(){var t=this.config,e=this.ctx,n=t.canvasElement,i=t.dpr,r=[this.boxWidth*i,this.boxHeight*i],o=r[0],a=r[1];n&&(n.width=o,n.height=a,n.style.width=o+"px",n.style.height=a+"px",n.style["transform-origin"]="left top",n.style.transform="scale("+1/i+")",e.scale(i,i))},t.prototype.initWindowFunction=function(){var t=this.config;if(window)return this.rAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},t.setTimeout=window.setTimeout,t.setInterval=window.setInterval,t.clearTimeout=window.clearTimeout,void(t.clearInterval=window.clearInterval);if(t.rAF)this.rAF=t.rAF;else if(t.setTimeout){var e=t.setTimeout;this.rAF=function(t){return e(t,16.7)}}else this.rAF=function(t){return setTimeout(t,16.7)}},t.prototype.loadImg=function(t,e,n){var i=this;return void 0===n&&(n="$resolve"),new Promise((function(r,o){if(t||o("=> '"+e.src+"' 不能为空或不合法"),"WEB"!==i.config.flag)return e[n]=r,void(e.$reject=o);var a=new Image;a.onload=function(){return r(a)},a.onerror=function(){return o("=> '"+e.src+"' 图片加载失败")},a.src=t}))},t.prototype.drawImage=function(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var o=this.config,a=o.flag,s=o.dpr;if(["WEB","MP-WX"].includes(a))n=e;else{if(!["UNI-H5","UNI-MP","TARO-H5","TARO-MP"].includes(a))return console.error("意料之外的 flag, 该平台尚未兼容!");n=e.path}if(!n.canvas)return 8===i.length&&(i=i.map((function(t,e){return e<4?t*s:t}))),t.drawImage.apply(t,c([n],i));var h=n.canvas.getContext("2d");i=i.map((function(t){return t*s}));var u=h.getImageData.apply(h,i.slice(0,4));t.putImageData.apply(t,c([u],i.slice(4,6)))},t.prototype.computedWidthAndHeight=function(t,e,n,i){if(!e.width&&!e.height)return[t.width,t.height];if(e.width&&!e.height){var r=this.getLength(e.width,n);return[r,t.height*(r/t.width)]}if(!e.width&&e.height){var o=this.getLength(e.height,i);return[t.width*(o/t.height),o]}return[this.getLength(e.width,n),this.getLength(e.height,i)]},t.prototype.changeUnits=function(t,e){var n=this;void 0===e&&(e=1);var i=this.config;return Number(t.replace(/^([-]*[0-9.]*)([a-z%]*)$/,(function(t,r,o){var a={"%":function(t){return t*(e/100)},px:function(t){return 1*t},rem:function(t){return t*n.htmlFontSize},vw:function(t){return t/100*window.innerWidth}}[o];if(a)return a(r);var s=i.handleCssUnit||i.unitFunc;return s?s(r,o):r})))},t.prototype.getLength=function(t,e){return l(t,"number")?t:l(t,"string")?this.changeUnits(t,e):0},t.prototype.getOffsetX=function(t,e){return void 0===e&&(e=0),(e-t)/2},t.prototype.getOffscreenCanvas=function(t,e){if(!f(this,"_offscreenCanvas")&&(window&&window.document&&"WEB"===this.config.flag?this._offscreenCanvas=document.createElement("canvas"):this._offscreenCanvas=this.config.offscreenCanvas,!this._offscreenCanvas))return console.error("离屏 Canvas 无法渲染!");var n=this.config.dpr,i=this._offscreenCanvas;i.width=(t||300)*n,i.height=(e||150)*n;var r=i.getContext("2d");return r.clearRect(0,0,t,e),r.scale(n,n),r.dpr=n,{_offscreenCanvas:i,_ctx:r}},t.prototype.$set=function(t,e,n){t&&"object"==typeof t&&z(t,e,n)},t.prototype.$computed=function(t,e,n){var i=this;Object.defineProperty(t,e,{get:function(){return n.call(i)}})},t.prototype.$watch=function(t,e,n){void 0===n&&(n={}),"object"==typeof e&&(e=(n=e).handler);var i=new L(this,t,e,n);return n.immediate&&e.call(this,i.value),function(){}},t.version="1.7.20",t}(),A=function(t){return Math.PI/180*t},R=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],h=Math.min(o,a),u=Math.PI;s>h/2&&(s=h/2),t.beginPath(),t.moveTo(i+s,r),t.lineTo(i+s,r),t.lineTo(i+o-s,r),t.arc(i+o-s,r+s,s,-u/2,0),t.lineTo(i+o,r+a-s),t.arc(i+o-s,r+a-s,s,0,u/2),t.lineTo(i+s,r+a),t.arc(i+s,r+a-s,s,u/2,u),t.lineTo(i,r+s),t.arc(i+s,r+s,s,u,-u/2),t.closePath()},O=function(t,e,n,i){return t>=i&&(t=i),n*(t/=i)*t+e},T=function(t,e,n,i){return t>=i&&(t=i),-n*(t/=i)*(t-2)+e},P=function(t){function e(e,n){var i,r=t.call(this,e,{width:n.width,height:n.height})||this;return r.blocks=[],r.prizes=[],r.buttons=[],r.defaultConfig={},r.defaultStyle={},r._defaultConfig={},r._defaultStyle={},r.Radius=0,r.prizeRadius=0,r.prizeDeg=0,r.prizeAng=0,r.rotateDeg=0,r.maxBtnRadius=0,r.startTime=0,r.endTime=0,r.stopDeg=0,r.endDeg=0,r.FPS=16.6,r.step=0,r.ImageCache=new Map,r.initData(n),r.initWatch(),r.initComputed(),null===(i=e.beforeCreate)||void 0===i||i.call(r),r.init(),r}return a(e,t),e.prototype.resize=function(){var e,n;t.prototype.resize.call(this),this.Radius=Math.min(this.boxWidth,this.boxHeight)/2,this.ctx.translate(this.Radius,this.Radius),this.draw(),null===(n=(e=this.config).afterResize)||void 0===n||n.call(e)},e.prototype.initLucky=function(){this.Radius=0,this.prizeRadius=0,this.prizeDeg=0,this.prizeAng=0,this.rotateDeg=0,this.maxBtnRadius=0,this.startTime=0,this.endTime=0,this.stopDeg=0,this.endDeg=0,this.FPS=16.6,this.prizeFlag=-1,this.step=0,t.prototype.initLucky.call(this)},e.prototype.initData=function(t){this.$set(this,"width",t.width||"300px"),this.$set(this,"height",t.height||"300px"),this.$set(this,"blocks",t.blocks||[]),this.$set(this,"prizes",t.prizes||[]),this.$set(this,"buttons",t.buttons||[]),this.$set(this,"defaultConfig",t.defaultConfig||{}),this.$set(this,"defaultStyle",t.defaultStyle||{}),this.$set(this,"startCallback",t.start),this.$set(this,"endCallback",t.end)},e.prototype.initComputed=function(){var t=this;this.$computed(this,"_defaultConfig",(function(){return s({gutter:"0px",offsetDegree:0,speed:20,speedFunction:"quad",accelerationTime:2500,decelerationTime:2500,stopRange:0},t.defaultConfig)})),this.$computed(this,"_defaultStyle",(function(){return s({fontSize:"18px",fontColor:"#000",fontStyle:"sans-serif",fontWeight:"400",background:"rgba(0,0,0,0)",wordWrap:!0,lengthLimit:"90%"},t.defaultStyle)}))},e.prototype.initWatch=function(){var t=this;this.$watch("width",(function(e){t.data.width=e,t.resize()})),this.$watch("height",(function(e){t.data.height=e,t.resize()})),this.$watch("blocks",(function(e){t.initImageCache()}),{deep:!0}),this.$watch("prizes",(function(e){t.initImageCache()}),{deep:!0}),this.$watch("buttons",(function(e){t.initImageCache()}),{deep:!0}),this.$watch("defaultConfig",(function(){return t.draw()}),{deep:!0}),this.$watch("defaultStyle",(function(){return t.draw()}),{deep:!0}),this.$watch("startCallback",(function(){return t.init()})),this.$watch("endCallback",(function(){return t.init()}))},e.prototype.init=function(){var t,e;return h(this,void 0,void 0,(function(){var n;return u(this,(function(i){switch(i.label){case 0:return this.initLucky(),n=this.config,null===(t=n.beforeInit)||void 0===t||t.call(this),this.draw(),this.draw(),[4,this.initImageCache()];case 1:return i.sent(),null===(e=n.afterInit)||void 0===e||e.call(this),[2]}}))}))},e.prototype.initImageCache=function(){var t=this;return new Promise((function(e){var n={blocks:t.blocks.map((function(t){return t.imgs})),prizes:t.prizes.map((function(t){return t.imgs})),buttons:t.buttons.map((function(t){return t.imgs}))};Object.keys(n).forEach((function(i){var r=n[i],o=[];r&&r.forEach((function(e,n){e&&e.forEach((function(e,r){o.push(t.loadAndCacheImg(i,n,r))}))})),Promise.all(o).then((function(){t.draw(),e()}))}))}))},e.prototype.handleClick=function(t){var e,n=this.ctx;n.beginPath(),n.arc(0,0,this.maxBtnRadius,0,2*Math.PI,!1),n.isPointInPath(t.offsetX,t.offsetY)&&0===this.step&&(null===(e=this.startCallback)||void 0===e||e.call(this,t))},e.prototype.loadAndCacheImg=function(t,e,n){return h(this,void 0,void 0,(function(){var i=this;return u(this,(function(r){return[2,new Promise((function(r,o){var a=i[t][e];if(a&&a.imgs){var s=a.imgs[n];s&&i.loadImg(s.src,s).then((function(t){return h(i,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return"function"!=typeof s.formatter?[3,2]:[4,Promise.resolve(s.formatter.call(this,t))];case 1:t=e.sent(),e.label=2;case 2:return this.ImageCache.set(s.src,t),r(),[2]}}))}))})).catch((function(i){console.error(t+"["+e+"].imgs["+n+"] "+i),o()}))}}))]}))}))},e.prototype.drawBlock=function(t,e,n){var i=this,r=this.ctx;p(e.background)&&(r.beginPath(),r.fillStyle=e.background,r.arc(0,0,t,0,2*Math.PI,!1),r.fill()),e.imgs&&e.imgs.forEach((function(e,n){var o=i.ImageCache.get(e.src);if(o){var a=i.computedWidthAndHeight(o,e,2*t,2*t),s=a[0],h=a[1],u=[i.getOffsetX(s)+i.getLength(e.left,2*t),i.getLength(e.top,2*t)-t],c=u[0],l=u[1];r.save(),e.rotate&&r.rotate(A(i.rotateDeg)),i.drawImage(r,o,c,l,s,h),r.restore()}}))},e.prototype.draw=function(){var t,e,n=this,i=this,r=i.config,o=i.ctx,a=i._defaultConfig,s=i._defaultStyle;null===(t=r.beforeDraw)||void 0===t||t.call(this,o),o.clearRect(-this.Radius,-this.Radius,2*this.Radius,2*this.Radius),this.prizeRadius=this.blocks.reduce((function(t,e,i){return n.drawBlock(t,e,i),t-n.getLength(e.padding&&e.padding.split(" ")[0])}),this.Radius),this.prizeDeg=360/this.prizes.length,this.prizeAng=A(this.prizeDeg);var h=this.prizeRadius*Math.sin(this.prizeAng/2)*2,u=A(this.rotateDeg-90+this.prizeDeg/2+a.offsetDegree),c=function(t,e){return n.getOffsetX(o.measureText(e).width)+n.getLength(t.left,h)},l=function(t,e,i){var r=t.lineHeight||s.lineHeight||t.fontSize||s.fontSize;return n.getLength(t.top,e)+(i+1)*n.getLength(r)};o.save(),this.prizes.forEach((function(t,e){var i=u+e*n.prizeAng,r=n.prizeRadius-n.maxBtnRadius,g=t.background||s.background;p(g)&&(o.fillStyle=g,function(t,e,n,i,r,o){t.beginPath();var a,s,h=A(90/Math.PI/n*o),u=i+h,c=r-h;t.arc(0,0,n,u,c,!1),t.lineTo.apply(t,(a=(i+r)/2,s=o/2/Math.abs(Math.sin((i-r)/2)),[+(Math.cos(a)*s).toFixed(8),+(Math.sin(a)*s).toFixed(8)])),t.closePath()}(o,n.maxBtnRadius,n.prizeRadius,i-n.prizeAng/2,i+n.prizeAng/2,n.getLength(a.gutter)),o.fill());var v=Math.cos(i)*n.prizeRadius,y=Math.sin(i)*n.prizeRadius;o.translate(v,y),o.rotate(i+A(90)),t.imgs&&t.imgs.forEach((function(t,e){var i=n.ImageCache.get(t.src);if(i){var a=n.computedWidthAndHeight(i,t,n.prizeAng*n.prizeRadius,r),s=a[0],u=a[1],c=[n.getOffsetX(s)+n.getLength(t.left,h),n.getLength(t.top,r)],l=c[0],f=c[1];n.drawImage(o,i,l,f,s,u)}})),t.fonts&&t.fonts.forEach((function(t){var e=t.fontColor||s.fontColor,i=t.fontWeight||s.fontWeight,h=n.getLength(t.fontSize||s.fontSize),u=t.fontStyle||s.fontStyle,p=f(t,"wordWrap")?t.wordWrap:s.wordWrap,g=t.lengthLimit||s.lengthLimit,v=t.lineClamp||s.lineClamp;o.fillStyle=e,o.font=i+" "+(h>>0)+"px "+u;var y=String(t.text);(p?m(o,d(y),(function(e){var i=(n.prizeRadius-l(t,r,e.length))*Math.tan(n.prizeAng/2)*2-n.getLength(a.gutter);return n.getLength(g,i)}),v):y.split("\n")).filter((function(t){return!!t})).forEach((function(e,n){o.fillText(e,c(t,e),l(t,r,n))}))})),o.rotate(A(360)-i-A(90)),o.translate(-v,-y)})),o.restore(),this.buttons.forEach((function(t,e){var i=n.getLength(t.radius,n.prizeRadius);n.maxBtnRadius=Math.max(n.maxBtnRadius,i),p(t.background)&&(o.beginPath(),o.fillStyle=t.background,o.arc(0,0,i,0,2*Math.PI,!1),o.fill()),t.pointer&&p(t.background)&&(o.beginPath(),o.fillStyle=t.background,o.moveTo(-i,0),o.lineTo(i,0),o.lineTo(0,2*-i),o.closePath(),o.fill()),t.imgs&&t.imgs.forEach((function(t,e){var r=n.ImageCache.get(t.src);if(r){var a=n.computedWidthAndHeight(r,t,2*i,2*i),s=a[0],h=a[1],u=[n.getOffsetX(s)+n.getLength(t.left,i),n.getLength(t.top,i)],c=u[0],l=u[1];n.drawImage(o,r,c,l,s,h)}})),t.fonts&&t.fonts.forEach((function(t){var e=t.fontColor||s.fontColor,r=t.fontWeight||s.fontWeight,a=n.getLength(t.fontSize||s.fontSize),h=t.fontStyle||s.fontStyle;o.fillStyle=e,o.font=r+" "+(a>>0)+"px "+h,String(t.text).split("\n").forEach((function(e,n){o.fillText(e,c(t,e),l(t,i,n))}))}))})),null===(e=r.afterDraw)||void 0===e||e.call(this,o)},e.prototype.carveOnGunwaleOfAMovingBoat=function(){var t=this,e=t._defaultConfig,n=t.prizeFlag,i=t.prizeDeg,r=t.rotateDeg;this.endTime=Date.now();for(var o=this.stopDeg=r,a=e.speed,s=(Math.random()*i-i/2)*this.getLength(e.stopRange),h=0,u=0,c=0;++h;){var l=360*h-n*i-r-e.offsetDegree+s-i/2,f=T(this.FPS,o,l,e.decelerationTime)-o;if(f>a){this.endDeg=a-u>f-a?l:c;break}c=l,u=f}},e.prototype.play=function(){var t,e;0===this.step&&(this.startTime=Date.now(),this.prizeFlag=void 0,this.step=1,null===(e=(t=this.config).afterStart)||void 0===e||e.call(t),this.run())},e.prototype.stop=function(t){if(0!==this.step&&3!==this.step){if(!t&&0!==t){var e=this.prizes.map((function(t){return t.range}));t=v(e)}t<0?(this.step=0,this.prizeFlag=-1):(this.step=2,this.prizeFlag=t%this.prizes.length)}},e.prototype.run=function(t){var e;void 0===t&&(t=0);var n=this,i=n.rAF,r=n.step,o=n.prizeFlag,a=n._defaultConfig,s=a.accelerationTime,h=a.decelerationTime,u=a.speed;if(0!==r){if(-1!==o){3!==r||this.endDeg||this.carveOnGunwaleOfAMovingBoat();var c=Date.now()-this.startTime,l=Date.now()-this.endTime,f=this.rotateDeg;if(1===r||c<s){this.FPS=c/t;var d=O(c,0,u,s);d===u&&(this.step=2),f+=d%360}else 2===r?(f+=u%360,void 0!==o&&o>=0&&(this.step=3,this.stopDeg=0,this.endDeg=0)):3===r?(f=T(l,this.stopDeg,this.endDeg,h),l>=h&&(this.step=0)):this.stop(-1);this.rotateDeg=f,this.draw(),i(this.run.bind(this,t+1))}}else null===(e=this.endCallback)||void 0===e||e.call(this,this.prizes.find((function(t,e){return e===o}))||{})},e.prototype.conversionAxis=function(t,e){var n=this.config;return[t/n.dpr-this.Radius,e/n.dpr-this.Radius]},e}(I),E=function(t){function e(e,n){var i,r=t.call(this,e,{width:n.width,height:n.height})||this;return r.rows=3,r.cols=3,r.blocks=[],r.prizes=[],r.buttons=[],r.defaultConfig={},r.defaultStyle={},r.activeStyle={},r._defaultConfig={},r._defaultStyle={},r._activeStyle={},r.cellWidth=0,r.cellHeight=0,r.startTime=0,r.endTime=0,r.currIndex=0,r.stopIndex=0,r.endIndex=0,r.demo=!1,r.timer=0,r.FPS=16.6,r.step=0,r.prizeFlag=-1,r.cells=[],r.ImageCache=new Map,r.initData(n),r.initWatch(),r.initComputed(),null===(i=e.beforeCreate)||void 0===i||i.call(r),r.init(),r}return a(e,t),e.prototype.resize=function(){var e,n;t.prototype.resize.call(this),this.draw(),null===(n=(e=this.config).afterResize)||void 0===n||n.call(e)},e.prototype.initLucky=function(){this.cellWidth=0,this.cellHeight=0,this.startTime=0,this.endTime=0,this.currIndex=0,this.stopIndex=0,this.endIndex=0,this.demo=!1,this.timer=0,this.FPS=16.6,this.prizeFlag=-1,this.step=0,t.prototype.initLucky.call(this)},e.prototype.initData=function(t){this.$set(this,"width",t.width||"300px"),this.$set(this,"height",t.height||"300px"),this.$set(this,"rows",Number(t.rows)||3),this.$set(this,"cols",Number(t.cols)||3),this.$set(this,"blocks",t.blocks||[]),this.$set(this,"prizes",t.prizes||[]),this.$set(this,"buttons",t.buttons||[]),this.$set(this,"button",t.button),this.$set(this,"defaultConfig",t.defaultConfig||{}),this.$set(this,"defaultStyle",t.defaultStyle||{}),this.$set(this,"activeStyle",t.activeStyle||{}),this.$set(this,"startCallback",t.start),this.$set(this,"endCallback",t.end)},e.prototype.initComputed=function(){var t=this;this.$computed(this,"_defaultConfig",(function(){var e=s({gutter:5,speed:20,accelerationTime:2500,decelerationTime:2500},t.defaultConfig);return e.gutter=t.getLength(e.gutter),e.speed=e.speed/40,e})),this.$computed(this,"_defaultStyle",(function(){return s({borderRadius:20,fontColor:"#000",fontSize:"18px",fontStyle:"sans-serif",fontWeight:"400",background:"rgba(0,0,0,0)",shadow:"",wordWrap:!0,lengthLimit:"90%"},t.defaultStyle)})),this.$computed(this,"_activeStyle",(function(){return s({background:"#ffce98",shadow:""},t.activeStyle)}))},e.prototype.initWatch=function(){var t=this;this.$watch("width",(function(e){t.data.width=e,t.resize()})),this.$watch("height",(function(e){t.data.height=e,t.resize()})),this.$watch("blocks",(function(e){t.initImageCache()}),{deep:!0}),this.$watch("prizes",(function(e){t.initImageCache()}),{deep:!0}),this.$watch("buttons",(function(e){t.initImageCache()}),{deep:!0}),this.$watch("rows",(function(){return t.init()})),this.$watch("cols",(function(){return t.init()})),this.$watch("defaultConfig",(function(){return t.draw()}),{deep:!0}),this.$watch("defaultStyle",(function(){return t.draw()}),{deep:!0}),this.$watch("activeStyle",(function(){return t.draw()}),{deep:!0}),this.$watch("startCallback",(function(){return t.init()})),this.$watch("endCallback",(function(){return t.init()}))},e.prototype.init=function(){var t,e;return h(this,void 0,void 0,(function(){var n;return u(this,(function(i){switch(i.label){case 0:return this.initLucky(),n=this.config,null===(t=n.beforeInit)||void 0===t||t.call(this),this.draw(),[4,this.initImageCache()];case 1:return i.sent(),null===(e=n.afterInit)||void 0===e||e.call(this),[2]}}))}))},e.prototype.initImageCache=function(){var t=this;return new Promise((function(e){var n=t.buttons.map((function(t){return t.imgs}));t.button&&n.push(t.button.imgs);var i={blocks:t.blocks.map((function(t){return t.imgs})),prizes:t.prizes.map((function(t){return t.imgs})),buttons:n};Object.keys(i).forEach((function(n){var r=i[n],o=[];r&&r.forEach((function(e,i){e&&e.forEach((function(e,r){o.push(t.loadAndCacheImg(n,i,r))}))})),Promise.all(o).then((function(){t.draw(),e()}))}))}))},e.prototype.handleClick=function(t){var e=this,n=this.ctx;c(c([],this.buttons),[this.button]).forEach((function(i){var r;if(i){var o=e.getGeometricProperty([i.x,i.y,i.col||1,i.row||1]),a=o[0],s=o[1],h=o[2],u=o[3];n.beginPath(),n.rect(a,s,h,u),n.isPointInPath(t.offsetX,t.offsetY)&&0===e.step&&("function"==typeof i.callback&&i.callback.call(e,i),null===(r=e.startCallback)||void 0===r||r.call(e,t,i))}}))},e.prototype.loadAndCacheImg=function(t,e,n){return h(this,void 0,void 0,(function(){var i=this;return u(this,(function(r){return[2,new Promise((function(r,o){var a=i[t][e];if("buttons"===t&&!i.buttons.length&&i.button&&(a=i.button),a&&a.imgs){var s=a.imgs[n];if(s){var c=[i.loadImg(s.src,s),s.activeSrc&&i.loadImg(s.activeSrc,s,"$activeResolve")];Promise.all(c).then((function(t){var e=t[0],n=t[1];return h(i,void 0,void 0,(function(){var t;return u(this,(function(i){switch(i.label){case 0:return"function"!=typeof(t=s.formatter)?[3,3]:[4,Promise.resolve(t.call(this,e))];case 1:return e=i.sent(),n?[4,Promise.resolve(t.call(this,n))]:[3,3];case 2:n=i.sent(),i.label=3;case 3:return this.ImageCache.set(s.src,e),n&&this.ImageCache.set(s.activeSrc,n),r(),[2]}}))}))})).catch((function(i){console.error(t+"["+e+"].imgs["+n+"] "+i),o()}))}}}))]}))}))},e.prototype.draw=function(){var t,e,n=this,i=this,r=i.config,o=i.ctx,a=i._defaultConfig,s=i._defaultStyle,h=i._activeStyle;null===(t=r.beforeDraw)||void 0===t||t.call(this,o),o.clearRect(0,0,this.boxWidth,this.boxHeight),this.cells=c(c([],this.prizes),this.buttons),this.button&&this.cells.push(this.button),this.cells.forEach((function(t){t.col=t.col||1,t.row=t.row||1})),this.prizeArea=this.blocks.reduce((function(t,e,i){var r=t.x,a=t.y,h=t.w,u=t.h,c=g(e),l=c[0],f=c[1],d=c[2],v=c[3],m=e.borderRadius?n.getLength(e.borderRadius):0,y=e.background||s.background;return p(y)&&(o.fillStyle=n.handleBackground(r,a,h,u,y),R(o,r,a,h,u,m),o.fill()),e.imgs&&e.imgs.forEach((function(t,e){var i=n.ImageCache.get(t.src);if(i){var s=n.computedWidthAndHeight(i,t,h,u),c=s[0],l=s[1],f=[n.getOffsetX(c,h)+n.getLength(t.left,h),n.getLength(t.top,u)],d=f[0],p=f[1];n.drawImage(o,i,r+d,a+p,c,l)}})),{x:r+d,y:a+l,w:h-d-v,h:u-l-f}}),{x:0,y:0,w:this.boxWidth,h:this.boxHeight}),this.cellWidth=(this.prizeArea.w-a.gutter*(this.cols-1))/this.cols,this.cellHeight=(this.prizeArea.h-a.gutter*(this.rows-1))/this.rows,this.cells.forEach((function(t,e){var i=n.getGeometricProperty([t.x,t.y,t.col,t.row]),a=i[0],u=i[1],c=i[2],l=i[3],g=!1;(void 0===n.prizeFlag||n.prizeFlag>-1)&&(g=e===n.currIndex%n.prizes.length>>0);var v=g?h.background:t.background||s.background;if(p(v)){var y=(g?h.shadow:t.shadow||s.shadow).replace(/px/g,"").split(",")[0].split(" ").map((function(t,e){return e<3?Number(t):t}));4===y.length&&(o.shadowColor=y[3],o.shadowOffsetX=y[0]*r.dpr,o.shadowOffsetY=y[1]*r.dpr,o.shadowBlur=y[2],y[0]>0?c-=y[0]:(c+=y[0],a-=y[0]),y[1]>0?l-=y[1]:(l+=y[1],u-=y[1])),o.fillStyle=n.handleBackground(a,u,c,l,v);var w=n.getLength(t.borderRadius?t.borderRadius:s.borderRadius);R(o,a,u,c,l,w),o.fill(),o.shadowColor="rgba(0, 0, 0, 0)",o.shadowOffsetX=0,o.shadowOffsetY=0,o.shadowBlur=0}e>=n.prizes.length&&(e-=n.prizes.length),t.imgs&&t.imgs.forEach((function(t,e){var i=n.ImageCache.get(t.src),r=n.ImageCache.get(t.activeSrc);if(i){var s=g&&r||i;if(s){var h=n.computedWidthAndHeight(s,t,c,l),f=h[0],d=h[1],p=[a+n.getOffsetX(f,c)+n.getLength(t.left,c),u+n.getLength(t.top,l)],v=p[0],m=p[1];n.drawImage(o,s,v,m,f,d)}}})),t.fonts&&t.fonts.forEach((function(t){var e=g&&h.fontStyle?h.fontStyle:t.fontStyle||s.fontStyle,i=g&&h.fontWeight?h.fontWeight:t.fontWeight||s.fontWeight,r=g&&h.fontSize?n.getLength(h.fontSize):n.getLength(t.fontSize||s.fontSize),p=g&&h.lineHeight?h.lineHeight:t.lineHeight||s.lineHeight||t.fontSize||s.fontSize,v=f(t,"wordWrap")?t.wordWrap:s.wordWrap,y=t.lengthLimit||s.lengthLimit,w=t.lineClamp||s.lineClamp;o.font=i+" "+(r>>0)+"px "+e,o.fillStyle=g&&h.fontColor?h.fontColor:t.fontColor||s.fontColor;var b=[],k=String(t.text);if(v){var S=n.getLength(y,c);b=m(o,d(k),(function(){return S}),w)}else b=k.split("\n");b.forEach((function(e,i){o.fillText(e,a+n.getOffsetX(o.measureText(e).width,c)+n.getLength(t.left,c),u+n.getLength(t.top,l)+(i+1)*n.getLength(p))}))}))})),null===(e=r.afterDraw)||void 0===e||e.call(this,o)},e.prototype.handleBackground=function(t,e,n,i,r){var o=this.ctx;return r.includes("linear-gradient")&&(r=function(t,e,n,i,r,o){var a=/linear-gradient\((.+)\)/.exec(o)[1].split(",").map((function(t){return t.trim()})),s=a.shift(),h=[0,0,0,0];if(s.includes("deg")){var u=function(t){return Math.tan(t/180*Math.PI)};(s=s.slice(0,-3)%360)>=0&&s<45?h=[e,n+r,e+i,n+r-i*u(s-0)]:s>=45&&s<90?h=[e,n+r,e+i-r*u(s-45),n]:s>=90&&s<135?h=[e+i,n+r,e+i-r*u(s-90),n]:s>=135&&s<180?h=[e+i,n+r,e,n+i*u(s-135)]:s>=180&&s<225?h=[e+i,n,e,n+i*u(s-180)]:s>=225&&s<270?h=[e+i,n,e+r*u(s-225),n+r]:s>=270&&s<315?h=[e,n,e+r*u(s-270),n+r]:s>=315&&s<360&&(h=[e,n,e+i,n+r-i*u(s-315)])}else s.includes("top")?h=[e,n+r,e,n]:s.includes("bottom")?h=[e,n,e,n+r]:s.includes("left")?h=[e+i,n,e,n]:s.includes("right")&&(h=[e,n,e+i,n]);var c=t.createLinearGradient.apply(t,h.map((function(t){return t>>0})));return a.reduce((function(t,e,n){var i=e.split(" ");return 1===i.length?t.addColorStop(n,i[0]):2===i.length&&t.addColorStop.apply(t,i),t}),c)}(o,t,e,n,i,r)),r},e.prototype.carveOnGunwaleOfAMovingBoat=function(){var t=this,e=t._defaultConfig,n=t.prizeFlag,i=t.currIndex;this.endTime=Date.now();for(var r=this.stopIndex=i,o=e.speed,a=0,s=0,h=0;++a;){var u=this.prizes.length*a+n-r,c=T(this.FPS,r,u,e.decelerationTime)-r;if(c>o){this.endIndex=o-s>c-o?u:h;break}h=u,s=c}},e.prototype.play=function(){var t,e;0===this.step&&(this.startTime=Date.now(),this.prizeFlag=void 0,this.step=1,null===(e=(t=this.config).afterStart)||void 0===e||e.call(t),this.run())},e.prototype.stop=function(t){if(0!==this.step&&3!==this.step){if(!t&&0!==t){var e=this.prizes.map((function(t){return t.range}));t=v(e)}t<0?(this.step=0,this.prizeFlag=-1):(this.step=2,this.prizeFlag=t%this.prizes.length)}},e.prototype.run=function(t){var e;void 0===t&&(t=0);var n=this,i=n.rAF,r=n.step,o=n.prizes,a=n.prizeFlag,s=n._defaultConfig,h=s.accelerationTime,u=s.decelerationTime,c=s.speed;if(0!==r){if(-1!==a){3!==r||this.endIndex||this.carveOnGunwaleOfAMovingBoat();var l=Date.now()-this.startTime,f=Date.now()-this.endTime,d=this.currIndex;if(1===r||l<h){this.FPS=l/t;var p=O(l,.1,c-.1,h);p===c&&(this.step=2),d+=p%o.length}else 2===r?(d+=c%o.length,void 0!==a&&a>=0&&(this.step=3,this.stopIndex=0,this.endIndex=0)):3===r?(d=T(f,this.stopIndex,this.endIndex,u),f>=u&&(this.step=0)):this.stop(-1);this.currIndex=d,this.draw(),i(this.run.bind(this,t+1))}}else null===(e=this.endCallback)||void 0===e||e.call(this,this.prizes.find((function(t,e){return e===a}))||{})},e.prototype.getGeometricProperty=function(t){var e=t[0],n=t[1],i=t[2],r=void 0===i?1:i,o=t[3],a=void 0===o?1:o,s=this.cellWidth,h=this.cellHeight,u=this._defaultConfig.gutter,c=[this.prizeArea.x+(s+u)*e,this.prizeArea.y+(h+u)*n];return r&&a&&c.push(s*r+u*(r-1),h*a+u*(a-1)),c},e.prototype.conversionAxis=function(t,e){var n=this.config;return[t/n.dpr,e/n.dpr]},e}(I),W=function(t){function e(e,n){var i,r=t.call(this,e,{width:n.width,height:n.height})||this;return r.blocks=[],r.prizes=[],r.slots=[],r.defaultConfig={},r._defaultConfig={},r.defaultStyle={},r._defaultStyle={},r.endCallback=function(){},r.cellWidth=0,r.cellHeight=0,r.cellAndSpacing=0,r.widthAndSpacing=0,r.heightAndSpacing=0,r.FPS=16.6,r.scroll=[],r.stopScroll=[],r.endScroll=[],r.startTime=0,r.endTime=0,r.step=0,r.prizeFlag=void 0,r.ImageCache=new Map,r.initData(n),r.initWatch(),r.initComputed(),null===(i=e.beforeCreate)||void 0===i||i.call(r),r.init(),r}return a(e,t),e.prototype.resize=function(){var e,n;t.prototype.resize.call(this),this.draw(),null===(n=(e=this.config).afterResize)||void 0===n||n.call(e)},e.prototype.initLucky=function(){this.cellWidth=0,this.cellHeight=0,this.cellAndSpacing=0,this.widthAndSpacing=0,this.heightAndSpacing=0,this.FPS=16.6,this.scroll=[],this.stopScroll=[],this.endScroll=[],this.startTime=0,this.endTime=0,this.prizeFlag=void 0,this.step=0,t.prototype.initLucky.call(this)},e.prototype.initData=function(t){this.$set(this,"width",t.width||"300px"),this.$set(this,"height",t.height||"300px"),this.$set(this,"blocks",t.blocks||[]),this.$set(this,"prizes",t.prizes||[]),this.$set(this,"slots",t.slots||[]),this.$set(this,"defaultConfig",t.defaultConfig||{}),this.$set(this,"defaultStyle",t.defaultStyle||{}),this.$set(this,"endCallback",t.end)},e.prototype.initComputed=function(){var t=this;this.$computed(this,"_defaultConfig",(function(){var e=s({mode:"vertical",rowSpacing:0,colSpacing:5,speed:20,direction:1,accelerationTime:2500,decelerationTime:2500},t.defaultConfig);return e.rowSpacing=t.getLength(e.rowSpacing),e.colSpacing=t.getLength(e.colSpacing),e})),this.$computed(this,"_defaultStyle",(function(){return s({borderRadius:0,fontColor:"#000",fontSize:"18px",fontStyle:"sans-serif",fontWeight:"400",background:"rgba(0,0,0,0)",wordWrap:!0,lengthLimit:"90%"},t.defaultStyle)}))},e.prototype.initWatch=function(){var t=this;this.$watch("width",(function(e){t.data.width=e,t.resize()})),this.$watch("height",(function(e){t.data.height=e,t.resize()})),this.$watch("blocks",(function(e){t.initImageCache()}),{deep:!0}),this.$watch("prizes",(function(e){t.initImageCache()}),{deep:!0}),this.$watch("slots",(function(e){t.drawOffscreenCanvas(),t.draw()}),{deep:!0}),this.$watch("defaultConfig",(function(){return t.draw()}),{deep:!0}),this.$watch("defaultStyle",(function(){return t.draw()}),{deep:!0}),this.$watch("endCallback",(function(){return t.init()}))},e.prototype.init=function(){var t,e;return h(this,void 0,void 0,(function(){var n;return u(this,(function(i){switch(i.label){case 0:return this.initLucky(),n=this.config,null===(t=n.beforeInit)||void 0===t||t.call(this),this.drawOffscreenCanvas(),this.draw(),[4,this.initImageCache()];case 1:return i.sent(),null===(e=n.afterInit)||void 0===e||e.call(this),[2]}}))}))},e.prototype.initImageCache=function(){var t=this;return new Promise((function(e){var n={blocks:t.blocks.map((function(t){return t.imgs})),prizes:t.prizes.map((function(t){return t.imgs}))};Object.keys(n).forEach((function(i){var r=n[i],o=[];r&&r.forEach((function(e,n){e&&e.forEach((function(e,r){o.push(t.loadAndCacheImg(i,n,r))}))})),Promise.all(o).then((function(){t.drawOffscreenCanvas(),t.draw(),e()}))}))}))},e.prototype.loadAndCacheImg=function(t,e,n){return h(this,void 0,void 0,(function(){var i=this;return u(this,(function(r){return[2,new Promise((function(r,o){var a=i[t][e];if(a&&a.imgs){var s=a.imgs[n];s&&i.loadImg(s.src,s).then((function(t){return h(i,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return"function"!=typeof s.formatter?[3,2]:[4,Promise.resolve(s.formatter.call(this,t))];case 1:t=e.sent(),e.label=2;case 2:return this.ImageCache.set(s.src,t),r(),[2]}}))}))})).catch((function(i){console.error(t+"["+e+"].imgs["+n+"] "+i),o()}))}}))]}))}))},e.prototype.drawOffscreenCanvas=function(){var t=this,e=this._defaultConfig,n=this._defaultStyle,i=this.drawBlocks(),r=i.w,o=i.h,a=this.prizes.length,s=this.displacementWidthOrHeight(),h=s.cellWidth,u=s.cellHeight,c=s.widthAndSpacing,l=s.heightAndSpacing,g=new Array(a).fill(void 0).map((function(t,e){return e})),v=0,y=0;this.slots.forEach((function(e,n){void 0===t.scroll[n]&&(t.scroll[n]=0),e.order=e.order||g;var i=e.order.length;v=Math.max(v,r+c*i),y=Math.max(y,o+l*i)}));var w=this.getOffscreenCanvas(v,y),b=w._offscreenCanvas,k=w._ctx;this._offscreenCanvas=b,this.slots.forEach((function(i,r){var o=h*r,a=u*r,s=0,g=function(t,e){for(var n={},i=[],r=0;r<t.length;r++)n[r]=t[r];for(r=0;r<e.length;r++){var o=n[e[r]];o&&(i[r]=o)}return i}(t.prizes,i.order);if(g.length){g.forEach((function(r,g){if(r){i.order[g];var v=c*g+e.colSpacing/2,y=l*g+e.rowSpacing/2,w=t.displacement([o,y,l],[v,a,c]),b=w[0],S=w[1],x=w[2];s+=x;var C=r.background||n.background;if(p(C)){var z=t.getLength(f(r,"borderRadius")?r.borderRadius:n.borderRadius);R(k,b,S,h,h,z),k.fillStyle=C,k.fill()}r.imgs&&r.imgs.forEach((function(e,n){var i=t.ImageCache.get(e.src);if(i){var r=t.computedWidthAndHeight(i,e,h,u),o=r[0],a=r[1],s=[b+t.getOffsetX(o,h)+t.getLength(e.left,h),S+t.getLength(e.top,u)],c=s[0],l=s[1];t.drawImage(k,i,c,l,o,a)}})),r.fonts&&r.fonts.forEach((function(e){var i=e.fontStyle||n.fontStyle,r=e.fontWeight||n.fontWeight,o=t.getLength(e.fontSize||n.fontSize),a=e.lineHeight||n.lineHeight||e.fontSize||n.fontSize,s=f(e,"wordWrap")?e.wordWrap:n.wordWrap,c=e.lengthLimit||n.lengthLimit,l=e.lineClamp||n.lineClamp;k.font=r+" "+(o>>0)+"px "+i,k.fillStyle=e.fontColor||n.fontColor;var p=[],g=String(e.text);if(s){var v=t.getLength(c,h);p=m(k,d(g),(function(){return v}),l)}else p=g.split("\n");p.forEach((function(n,i){k.fillText(n,b+t.getOffsetX(k.measureText(n).width,h)+t.getLength(e.left,h),S+t.getLength(e.top,u)+(i+1)*t.getLength(a))}))}))}}));for(var v=t.displacement([o,0,h,s],[0,a,s,u]),w=v[0],S=v[1],x=v[2],C=v[3],z=s;z<y+s;){var $=t.displacement([w,z],[z,S]),L=$[0],I=$[1];t.drawImage(k,b,w,S,x,C,L,I,x,C),z+=s}}}))},e.prototype.drawBlocks=function(){var t=this,e=this;e.config;var n=e.ctx;e._defaultConfig;var i=e._defaultStyle;return this.prizeArea=this.blocks.reduce((function(e,r,o){var a=e.x,s=e.y,h=e.w,u=e.h,c=g(r),l=c[0],f=c[1],d=c[2],v=c[3],m=r.borderRadius?t.getLength(r.borderRadius):0,y=r.background||i.background;return p(y)&&(R(n,a,s,h,u,m),n.fillStyle=y,n.fill()),r.imgs&&r.imgs.forEach((function(e,i){var r=t.ImageCache.get(e.src);if(r){var o=t.computedWidthAndHeight(r,e,h,u),c=o[0],l=o[1],f=[t.getOffsetX(c,h)+t.getLength(e.left,h),t.getLength(e.top,u)],d=f[0],p=f[1];t.drawImage(n,r,a+d,s+p,c,l)}})),{x:a+d,y:s+l,w:h-d-v,h:u-l-f}}),{x:0,y:0,w:this.boxWidth,h:this.boxHeight})},e.prototype.draw=function(){var t,e=this,n=this,i=n.config,r=n.ctx;n._defaultConfig,n._defaultStyle,null===(t=i.beforeDraw)||void 0===t||t.call(this,r),r.clearRect(0,0,this.boxWidth,this.boxHeight);var o=this.drawBlocks(),a=o.x,s=o.y,h=o.w,u=o.h;if(this._offscreenCanvas){var c=this,l=c.cellWidth,f=c.cellHeight,d=c.cellAndSpacing,p=c.widthAndSpacing,g=c.heightAndSpacing;this.slots.forEach((function(t,n){var i=d*t.order.length,o=e.displacement(-(u-g)/2,-(h-p)/2),c=e.scroll[n]+o;c<0&&(c=c%i+i),c>i&&(c%=i);var v=e.displacement([l*n,c,l,u],[c,f*n,h,f]),m=v[0],y=v[1],w=v[2],b=v[3],k=e.displacement([a+p*n,s,l,u],[a,s+g*n,h,f]),S=k[0],x=k[1],C=k[2],z=k[3];e.drawImage(r,e._offscreenCanvas,m,y,w,b,S,x,C,z)}))}},e.prototype.carveOnGunwaleOfAMovingBoat=function(){var t=this,e=this,n=e._defaultConfig,i=e.prizeFlag,r=e.cellAndSpacing;this.endTime=Date.now(),this.slots.forEach((function(e,o){var a=e.order;if(a.length)for(var s=e.speed||n.speed,h=e.direction||n.direction,u=a.findIndex((function(t){return t===i[o]})),c=r*a.length,l=t.stopScroll[o]=t.scroll[o],f=0;++f;){var d=r*u+c*f*h-l,p=T(t.FPS,l,d,n.decelerationTime)-l;if(Math.abs(p)>s){t.endScroll[o]=d;break}}}))},e.prototype.play=function(){var t,e;0===this.step&&(this.startTime=Date.now(),this.prizeFlag=void 0,this.step=1,null===(e=(t=this.config).afterStart)||void 0===e||e.call(t),this.run())},e.prototype.stop=function(t){var e;if(0!==this.step&&3!==this.step){if("number"==typeof t)this.prizeFlag=new Array(this.slots.length).fill(t);else{if(!l(t,"array"))return this.stop(-1),console.error("stop() 无法识别的参数类型 "+typeof t);if(t.length!==this.slots.length)return this.stop(-1),console.error("stop(["+t+"]) 参数长度的不正确");this.prizeFlag=t}(null===(e=this.prizeFlag)||void 0===e?void 0:e.includes(-1))?(this.prizeFlag=[],this.step=0):this.step=2}},e.prototype.run=function(t){var e,n,i=this;void 0===t&&(t=0);var r=this,o=r.rAF,a=r.step,s=r.prizeFlag,h=r._defaultConfig,u=r.cellAndSpacing,c=r.slots,l=h.accelerationTime,f=h.decelerationTime;if(0!==this.step||(null==s?void 0:s.length)!==c.length){if(void 0===s||s.length){3!==this.step||this.endScroll.length||this.carveOnGunwaleOfAMovingBoat();var d=Date.now()-this.startTime,p=Date.now()-this.endTime;c.forEach((function(e,n){var r=e.order;if(r&&r.length){var o=u*r.length,g=Math.abs(e.speed||h.speed),v=e.direction||h.direction,m=0,y=i.scroll[n];if(1===a||d<l){i.FPS=d/t;var w=O(d,0,g,l);w===g&&(i.step=2),m=(y+w*v)%o}else if(2===a)m=(y+g*v)%o,(null==s?void 0:s.length)===c.length&&(i.step=3,i.stopScroll=[],i.endScroll=[]);else if(3===a&&p){var b=i.stopScroll[n],k=i.endScroll[n];m=T(p,b,k,f),p>=f&&(i.step=0)}i.scroll[n]=m}})),this.draw(),o(this.run.bind(this,t+1))}}else{for(var g=s[0],v=0;v<c.length;v++){var m=c[v],y=s[v];if(!(null===(e=m.order)||void 0===e?void 0:e.includes(y))||g!==y){g=-1;break}}null===(n=this.endCallback)||void 0===n||n.call(this,this.prizes.find((function(t,e){return e===g}))||void 0)}},e.prototype.displacement=function(t,e){return"horizontal"===this._defaultConfig.mode?e:t},e.prototype.displacementWidthOrHeight=function(){var t=this._defaultConfig.mode,e=this.slots.length,n=this._defaultConfig,i=n.colSpacing,r=n.rowSpacing,o=this.prizeArea||this.drawBlocks();o.x,o.y;var a,s,h=o.w,u=o.h,c=0,l=0;return"horizontal"===t?(l=this.cellHeight=(u-r*(e-1))/e,c=this.cellWidth=l):(c=this.cellWidth=(h-i*(e-1))/e,l=this.cellHeight=c),a=this.widthAndSpacing=this.cellWidth+i,s=this.heightAndSpacing=this.cellHeight+r,this.cellAndSpacing="horizontal"===t?a:s,{cellWidth:c,cellHeight:l,widthAndSpacing:a,heightAndSpacing:s}},e}(I),_=function(t,e,n){if(void 0===e&&(e={}),i.c)return Object(i.b)(t,e,n);var o,a=e.props,s=e.domProps,h=e.on,u=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}(e,["props","domProps","on"]),c=(o=h)?Object.entries(o).reduce((function(t,e){var n,i=e[0],o=e[1];return i="on"+(i=i.charAt(0).toUpperCase()+i.slice(1)),r(r({},t),((n={})[i]=o,n))}),{}):null,l=r(r(r(r({},u),a),s),c);return Object(i.b)(t,l,n)},F="@lucky-canvas/vue",D=Object(i.a)({name:"LuckyWheel",props:{width:{type:[String,Number],default:"300px",require:!0},height:{type:[String,Number],default:"300px",require:!0},blocks:{type:Array,default:function(){return[]}},prizes:{type:Array,default:function(){return[]}},buttons:{type:Array,default:function(){return[]}},defaultStyle:{type:Object,default:function(){return{}}},defaultConfig:{type:Object,default:function(){return{}}}},emits:["start","end","success","error","finally"],watch:{blocks:function(t,e){this.$lucky&&(this.$lucky.blocks=t)},prizes:function(t,e){this.$lucky&&(this.$lucky.prizes=t)},buttons:function(t,e){this.$lucky&&(this.$lucky.buttons=t)}},data:function(){return{$lucky:null}},mounted:function(){this.$refs.myLucky&&this.$refs.myLucky.setAttribute("package",F+"@0.1.7");try{this.initLucky(),this.$emit("success")}catch(t){this.$emit("error",t)}finally{this.$emit("finally")}},methods:{initLucky:function(){var t=this;this.$lucky=new P({flag:"WEB",width:String(this.width),height:String(this.height),divElement:this.$refs.myLucky,rAF:window.requestAnimationFrame,setTimeout:window.setTimeout,setInterval:window.setInterval,clearTimeout:window.clearTimeout,clearInterval:window.clearInterval},r(r({},this.$props),{start:function(e){t.$emit("start",e)},end:function(e){t.$emit("end",e)}}))},init:function(){this.$lucky&&this.$lucky.init()},play:function(){var t;null===(t=this.$lucky)||void 0===t||t.play()},stop:function(t){var e;null===(e=this.$lucky)||void 0===e||e.stop(t)}},render:function(){return _("div",{ref:"myLucky"})}}),j=Object(i.a)({name:"LuckyGrid",props:{width:{type:[String,Number],default:"300px",require:!0},height:{type:[String,Number],default:"300px",require:!0},cols:{type:[String,Number],default:3},rows:{type:[String,Number],default:3},blocks:{type:Array,default:function(){return[]}},prizes:{type:Array,default:function(){return[]}},buttons:{type:Array,default:function(){return[]}},button:{type:Object},defaultStyle:{type:Object,default:function(){return{}}},activeStyle:{type:Object,default:function(){return{}}},defaultConfig:{type:Object,default:function(){return{}}}},emits:["start","end","success","error","finally"],watch:{cols:function(t,e){this.$lucky&&(this.$lucky.cols=t)},rows:function(t,e){this.$lucky&&(this.$lucky.rows=t)},blocks:function(t,e){this.$lucky&&(this.$lucky.blocks=t)},prizes:function(t,e){this.$lucky&&(this.$lucky.prizes=t)},buttons:function(t,e){this.$lucky&&(this.$lucky.buttons=t)},button:function(t,e){this.$lucky&&(this.$lucky.button=t)}},data:function(){return{$lucky:null}},mounted:function(){this.$refs.myLucky&&this.$refs.myLucky.setAttribute("package",F+"@0.1.7");try{this.initLucky(),this.$emit("success")}catch(t){this.$emit("error",t)}finally{this.$emit("finally")}},methods:{initLucky:function(){var t=this;this.$lucky=new E({flag:"WEB",width:String(this.width),height:String(this.height),divElement:this.$refs.myLucky,rAF:window.requestAnimationFrame,setTimeout:window.setTimeout,setInterval:window.setInterval,clearTimeout:window.clearTimeout,clearInterval:window.clearInterval},r(r({},this.$props),{start:function(e,n){t.$emit("start",e,n)},end:function(e){t.$emit("end",e)}}))},init:function(){this.$lucky&&this.$lucky.init()},play:function(){var t;null===(t=this.$lucky)||void 0===t||t.play()},stop:function(t){var e;null===(e=this.$lucky)||void 0===e||e.stop(t)}},render:function(){return _("div",{ref:"myLucky"})}}),B=Object(i.a)({name:"SlotMachine",props:{width:{type:[String,Number],default:"300px",require:!0},height:{type:[String,Number],default:"300px",require:!0},blocks:{type:Array,default:function(){return[]}},prizes:{type:Array,default:function(){return[]}},slots:{type:Array,default:function(){return[]}},defaultStyle:{type:Object,default:function(){return{}}},defaultConfig:{type:Object,default:function(){return{}}}},watch:{blocks:function(t,e){this.$lucky&&(this.$lucky.blocks=t)},slots:function(t,e){this.$lucky&&(this.$lucky.slots=t)},prizes:function(t,e){this.$lucky&&(this.$lucky.prizes=t)}},data:function(){return{$lucky:null}},mounted:function(){this.$refs.myLucky&&this.$refs.myLucky.setAttribute("package",F+"@0.1.7");try{this.initLucky(),this.$emit("success")}catch(t){this.$emit("error",t)}finally{this.$emit("finally")}},methods:{initLucky:function(){var t=this;this.$lucky=new W({flag:"WEB",width:String(this.width),height:String(this.height),divElement:this.$refs.myLucky,rAF:window.requestAnimationFrame,setTimeout:window.setTimeout,setInterval:window.setInterval,clearTimeout:window.clearTimeout,clearInterval:window.clearInterval},r(r({},this.$props),{start:function(e){t.$emit("start",e)},end:function(e){t.$emit("end",e)}}))},init:function(){this.$lucky&&this.$lucky.init()},play:function(){var t;null===(t=this.$lucky)||void 0===t||t.play()},stop:function(t){var e;null===(e=this.$lucky)||void 0===e||e.stop(t)}},render:function(){return _("div",{ref:"myLucky"})}}),M=function(t){t.component("LuckyWheel",D),t.component("LuckyGrid",j),t.component("SlotMachine",B)};"undefined"!=typeof window&&window.Vue&&i.c&&M(window.Vue)},711:function(t,e,n){"use strict";var i=n(4),r=n(1),o=n(3),a=n(89),s=n(611),h=n(712),u=n(5),c=r.RangeError,l=r.String,f=Math.floor,d=o(h),p=o("".slice),g=o(1..toFixed),v=function(t,e,n){return 0===e?n:e%2==1?v(t,e-1,n*t):v(t*t,e/2,n)},m=function(t,e,n){for(var i=-1,r=n;++i<6;)r+=e*t[i],t[i]=r%1e7,r=f(r/1e7)},y=function(t,e){for(var n=6,i=0;--n>=0;)i+=t[n],t[n]=f(i/e),i=i%e*1e7},w=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var i=l(t[e]);n=""===n?i:n+d("0",7-i.length)+i}return n};i({target:"Number",proto:!0,forced:u((function(){return"0.000"!==g(8e-5,3)||"1"!==g(.9,0)||"1.25"!==g(1.255,2)||"1000000000000000128"!==g(0xde0b6b3a7640080,0)}))||!u((function(){g({})}))},{toFixed:function(t){var e,n,i,r,o=s(this),h=a(t),u=[0,0,0,0,0,0],f="",g="0";if(h<0||h>20)throw c("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return l(o);if(o<0&&(f="-",o=-o),o>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(o*v(2,69,1))-69)<0?o*v(2,-e,1):o/v(2,e,1),n*=4503599627370496,(e=52-e)>0){for(m(u,0,n),i=h;i>=7;)m(u,1e7,0),i-=7;for(m(u,v(10,i,1),0),i=e-1;i>=23;)y(u,1<<23),i-=23;y(u,1<<i),m(u,1,1),y(u,2),g=w(u)}else m(u,0,n),m(u,1<<-e,0),g=w(u)+d("0",h);return g=h>0?f+((r=g.length)<=h?"0."+d("0",h-r)+g:p(g,0,r-h)+"."+p(g,r-h)):f+g}})},712:function(t,e,n){"use strict";var i=n(1),r=n(89),o=n(21),a=n(33),s=i.RangeError;t.exports=function(t){var e=o(a(this)),n="",i=r(t);if(i<0||i==1/0)throw s("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},716:function(t,e,n){"use strict";var i=n(4),r=n(54).findIndex,o=n(131),a=!0;"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},717:function(t,e,n){var i=n(4),r=n(1),o=n(3),a=r.Date,s=o(a.prototype.getTime);i({target:"Date",stat:!0},{now:function(){return s(new a)}})},718:function(t,e,n){var i=n(3),r=n(50),o=Date.prototype,a=i(o.toString),s=i(o.getTime);"Invalid Date"!=String(new Date(NaN))&&r(o,"toString",(function(){var t=s(this);return t==t?a(this):"Invalid Date"}))},719:function(t,e,n){"use strict";n(23);var i,r=n(4),o=n(16),a=n(630),s=n(1),h=n(206),u=n(13),c=n(3),l=n(332),f=n(50),d=n(605),p=n(10),g=n(720),v=n(343),m=n(52),y=n(214).codeAt,w=n(721),b=n(21),k=n(130),S=n(631),x=n(65),C=x.set,z=x.getterFor("URL"),$=S.URLSearchParams,L=S.getState,I=s.URL,A=s.TypeError,R=s.parseInt,O=Math.floor,T=Math.pow,P=c("".charAt),E=c(/./.exec),W=c([].join),_=c(1..toString),F=c([].pop),D=c([].push),j=c("".replace),B=c([].shift),M=c("".split),U=c("".slice),H=c("".toLowerCase),q=c([].unshift),N=/[a-z]/i,X=/[\d+-.a-z]/i,G=/\d/,J=/^0x/i,Y=/^[0-7]+$/,V=/^\d+$/,K=/^[\da-f]+$/i,Q=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Z=/[\0\t\n\r #/:<>?@[\\\]^|]/,tt=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,et=/[\t\n\r]/g,nt=function(t,e){var n,i,r;if("["==P(e,0)){if("]"!=P(e,e.length-1))return"Invalid host";if(!(n=rt(U(e,1,-1))))return"Invalid host";t.host=n}else if(ft(t)){if(e=w(e),E(Q,e))return"Invalid host";if(null===(n=it(e)))return"Invalid host";t.host=n}else{if(E(Z,e))return"Invalid host";for(n="",i=v(e),r=0;r<i.length;r++)n+=ct(i[r],at);t.host=n}},it=function(t){var e,n,i,r,o,a,s,h=M(t,".");if(h.length&&""==h[h.length-1]&&h.length--,(e=h.length)>4)return t;for(n=[],i=0;i<e;i++){if(""==(r=h[i]))return t;if(o=10,r.length>1&&"0"==P(r,0)&&(o=E(J,r)?16:8,r=U(r,8==o?1:2)),""===r)a=0;else{if(!E(10==o?V:8==o?Y:K,r))return t;a=R(r,o)}D(n,a)}for(i=0;i<e;i++)if(a=n[i],i==e-1){if(a>=T(256,5-e))return null}else if(a>255)return null;for(s=F(n),i=0;i<n.length;i++)s+=n[i]*T(256,3-i);return s},rt=function(t){var e,n,i,r,o,a,s,h=[0,0,0,0,0,0,0,0],u=0,c=null,l=0,f=function(){return P(t,l)};if(":"==f()){if(":"!=P(t,1))return;l+=2,c=++u}for(;f();){if(8==u)return;if(":"!=f()){for(e=n=0;n<4&&E(K,f());)e=16*e+R(f(),16),l++,n++;if("."==f()){if(0==n)return;if(l-=n,u>6)return;for(i=0;f();){if(r=null,i>0){if(!("."==f()&&i<4))return;l++}if(!E(G,f()))return;for(;E(G,f());){if(o=R(f(),10),null===r)r=o;else{if(0==r)return;r=10*r+o}if(r>255)return;l++}h[u]=256*h[u]+r,2!=++i&&4!=i||u++}if(4!=i)return;break}if(":"==f()){if(l++,!f())return}else if(f())return;h[u++]=e}else{if(null!==c)return;l++,c=++u}}if(null!==c)for(a=u-c,u=7;0!=u&&a>0;)s=h[u],h[u--]=h[c+a-1],h[c+--a]=s;else if(8!=u)return;return h},ot=function(t){var e,n,i,r;if("number"==typeof t){for(e=[],n=0;n<4;n++)q(e,t%256),t=O(t/256);return W(e,".")}if("object"==typeof t){for(e="",i=function(t){for(var e=null,n=1,i=null,r=0,o=0;o<8;o++)0!==t[o]?(r>n&&(e=i,n=r),i=null,r=0):(null===i&&(i=o),++r);return r>n&&(e=i,n=r),e}(t),n=0;n<8;n++)r&&0===t[n]||(r&&(r=!1),i===n?(e+=n?":":"::",r=!0):(e+=_(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},at={},st=g({},at,{" ":1,'"':1,"<":1,">":1,"`":1}),ht=g({},st,{"#":1,"?":1,"{":1,"}":1}),ut=g({},ht,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ct=function(t,e){var n=y(t,0);return n>32&&n<127&&!p(e,t)?t:encodeURIComponent(t)},lt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ft=function(t){return p(lt,t.scheme)},dt=function(t){return""!=t.username||""!=t.password},pt=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},gt=function(t,e){var n;return 2==t.length&&E(N,P(t,0))&&(":"==(n=P(t,1))||!e&&"|"==n)},vt=function(t){var e;return t.length>1&&gt(U(t,0,2))&&(2==t.length||"/"===(e=P(t,2))||"\\"===e||"?"===e||"#"===e)},mt=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&gt(e[0],!0)||e.length--},yt=function(t){return"."===t||"%2e"===H(t)},wt={},bt={},kt={},St={},xt={},Ct={},zt={},$t={},Lt={},It={},At={},Rt={},Ot={},Tt={},Pt={},Et={},Wt={},_t={},Ft={},Dt={},jt={},Bt=function(t,e,n,r){var o,a,s,h,u,c=n||wt,l=0,f="",d=!1,g=!1,y=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=j(e,tt,"")),e=j(e,et,""),o=v(e);l<=o.length;){switch(a=o[l],c){case wt:if(!a||!E(N,a)){if(n)return"Invalid scheme";c=kt;continue}f+=H(a),c=bt;break;case bt:if(a&&(E(X,a)||"+"==a||"-"==a||"."==a))f+=H(a);else{if(":"!=a){if(n)return"Invalid scheme";f="",c=kt,l=0;continue}if(n&&(ft(t)!=p(lt,f)||"file"==f&&(dt(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=f,n)return void(ft(t)&&lt[t.scheme]==t.port&&(t.port=null));f="","file"==t.scheme?c=Tt:ft(t)&&r&&r.scheme==t.scheme?c=St:ft(t)?c=$t:"/"==o[l+1]?(c=xt,l++):(t.cannotBeABaseURL=!0,D(t.path,""),c=Ft)}break;case kt:if(!r||r.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==a){t.scheme=r.scheme,t.path=m(r.path),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,c=jt;break}c="file"==r.scheme?Tt:Ct;continue;case St:if("/"!=a||"/"!=o[l+1]){c=Ct;continue}c=Lt,l++;break;case xt:if("/"==a){c=It;break}c=_t;continue;case Ct:if(t.scheme=r.scheme,a==i)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=m(r.path),t.query=r.query;else if("/"==a||"\\"==a&&ft(t))c=zt;else if("?"==a)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=m(r.path),t.query="",c=Dt;else{if("#"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=m(r.path),t.path.length--,c=_t;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=m(r.path),t.query=r.query,t.fragment="",c=jt}break;case zt:if(!ft(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,c=_t;continue}c=It}else c=Lt;break;case $t:if(c=Lt,"/"!=a||"/"!=P(f,l+1))continue;l++;break;case Lt:if("/"!=a&&"\\"!=a){c=It;continue}break;case It:if("@"==a){d&&(f="%40"+f),d=!0,s=v(f);for(var w=0;w<s.length;w++){var b=s[w];if(":"!=b||y){var k=ct(b,ut);y?t.password+=k:t.username+=k}else y=!0}f=""}else if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&ft(t)){if(d&&""==f)return"Invalid authority";l-=v(f).length+1,f="",c=At}else f+=a;break;case At:case Rt:if(n&&"file"==t.scheme){c=Et;continue}if(":"!=a||g){if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&ft(t)){if(ft(t)&&""==f)return"Invalid host";if(n&&""==f&&(dt(t)||null!==t.port))return;if(h=nt(t,f))return h;if(f="",c=Wt,n)return;continue}"["==a?g=!0:"]"==a&&(g=!1),f+=a}else{if(""==f)return"Invalid host";if(h=nt(t,f))return h;if(f="",c=Ot,n==Rt)return}break;case Ot:if(!E(G,a)){if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&ft(t)||n){if(""!=f){var S=R(f,10);if(S>65535)return"Invalid port";t.port=ft(t)&&S===lt[t.scheme]?null:S,f=""}if(n)return;c=Wt;continue}return"Invalid port"}f+=a;break;case Tt:if(t.scheme="file","/"==a||"\\"==a)c=Pt;else{if(!r||"file"!=r.scheme){c=_t;continue}if(a==i)t.host=r.host,t.path=m(r.path),t.query=r.query;else if("?"==a)t.host=r.host,t.path=m(r.path),t.query="",c=Dt;else{if("#"!=a){vt(W(m(o,l),""))||(t.host=r.host,t.path=m(r.path),mt(t)),c=_t;continue}t.host=r.host,t.path=m(r.path),t.query=r.query,t.fragment="",c=jt}}break;case Pt:if("/"==a||"\\"==a){c=Et;break}r&&"file"==r.scheme&&!vt(W(m(o,l),""))&&(gt(r.path[0],!0)?D(t.path,r.path[0]):t.host=r.host),c=_t;continue;case Et:if(a==i||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&gt(f))c=_t;else if(""==f){if(t.host="",n)return;c=Wt}else{if(h=nt(t,f))return h;if("localhost"==t.host&&(t.host=""),n)return;f="",c=Wt}continue}f+=a;break;case Wt:if(ft(t)){if(c=_t,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=i&&(c=_t,"/"!=a))continue}else t.fragment="",c=jt;else t.query="",c=Dt;break;case _t:if(a==i||"/"==a||"\\"==a&&ft(t)||!n&&("?"==a||"#"==a)){if(".."===(u=H(u=f))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(mt(t),"/"==a||"\\"==a&&ft(t)||D(t.path,"")):yt(f)?"/"==a||"\\"==a&&ft(t)||D(t.path,""):("file"==t.scheme&&!t.path.length&&gt(f)&&(t.host&&(t.host=""),f=P(f,0)+":"),D(t.path,f)),f="","file"==t.scheme&&(a==i||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)B(t.path);"?"==a?(t.query="",c=Dt):"#"==a&&(t.fragment="",c=jt)}else f+=ct(a,ht);break;case Ft:"?"==a?(t.query="",c=Dt):"#"==a?(t.fragment="",c=jt):a!=i&&(t.path[0]+=ct(a,at));break;case Dt:n||"#"!=a?a!=i&&("'"==a&&ft(t)?t.query+="%27":t.query+="#"==a?"%23":ct(a,at)):(t.fragment="",c=jt);break;case jt:a!=i&&(t.fragment+=ct(a,st))}l++}},Mt=function(t){var e,n,i=d(this,Ut),r=arguments.length>1?arguments[1]:void 0,a=b(t),s=C(i,{type:"URL"});if(void 0!==r)try{e=z(r)}catch(t){if(n=Bt(e={},b(r)))throw A(n)}if(n=Bt(s,a,null,e))throw A(n);var h=s.searchParams=new $,c=L(h);c.updateSearchParams(s.query),c.updateURL=function(){s.query=b(h)||null},o||(i.href=u(Ht,i),i.origin=u(qt,i),i.protocol=u(Nt,i),i.username=u(Xt,i),i.password=u(Gt,i),i.host=u(Jt,i),i.hostname=u(Yt,i),i.port=u(Vt,i),i.pathname=u(Kt,i),i.search=u(Qt,i),i.searchParams=u(Zt,i),i.hash=u(te,i))},Ut=Mt.prototype,Ht=function(){var t=z(this),e=t.scheme,n=t.username,i=t.password,r=t.host,o=t.port,a=t.path,s=t.query,h=t.fragment,u=e+":";return null!==r?(u+="//",dt(t)&&(u+=n+(i?":"+i:"")+"@"),u+=ot(r),null!==o&&(u+=":"+o)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?a[0]:a.length?"/"+W(a,"/"):"",null!==s&&(u+="?"+s),null!==h&&(u+="#"+h),u},qt=function(){var t=z(this),e=t.scheme,n=t.port;if("blob"==e)try{return new Mt(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&ft(t)?e+"://"+ot(t.host)+(null!==n?":"+n:""):"null"},Nt=function(){return z(this).scheme+":"},Xt=function(){return z(this).username},Gt=function(){return z(this).password},Jt=function(){var t=z(this),e=t.host,n=t.port;return null===e?"":null===n?ot(e):ot(e)+":"+n},Yt=function(){var t=z(this).host;return null===t?"":ot(t)},Vt=function(){var t=z(this).port;return null===t?"":b(t)},Kt=function(){var t=z(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+W(e,"/"):""},Qt=function(){var t=z(this).query;return t?"?"+t:""},Zt=function(){return z(this).searchParams},te=function(){var t=z(this).fragment;return t?"#"+t:""},ee=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(o&&l(Ut,{href:ee(Ht,(function(t){var e=z(this),n=b(t),i=Bt(e,n);if(i)throw A(i);L(e.searchParams).updateSearchParams(e.query)})),origin:ee(qt),protocol:ee(Nt,(function(t){var e=z(this);Bt(e,b(t)+":",wt)})),username:ee(Xt,(function(t){var e=z(this),n=v(b(t));if(!pt(e)){e.username="";for(var i=0;i<n.length;i++)e.username+=ct(n[i],ut)}})),password:ee(Gt,(function(t){var e=z(this),n=v(b(t));if(!pt(e)){e.password="";for(var i=0;i<n.length;i++)e.password+=ct(n[i],ut)}})),host:ee(Jt,(function(t){var e=z(this);e.cannotBeABaseURL||Bt(e,b(t),At)})),hostname:ee(Yt,(function(t){var e=z(this);e.cannotBeABaseURL||Bt(e,b(t),Rt)})),port:ee(Vt,(function(t){var e=z(this);pt(e)||(""==(t=b(t))?e.port=null:Bt(e,t,Ot))})),pathname:ee(Kt,(function(t){var e=z(this);e.cannotBeABaseURL||(e.path=[],Bt(e,b(t),Wt))})),search:ee(Qt,(function(t){var e=z(this);""==(t=b(t))?e.query=null:("?"==P(t,0)&&(t=U(t,1)),e.query="",Bt(e,t,Dt)),L(e.searchParams).updateSearchParams(e.query)})),searchParams:ee(Zt),hash:ee(te,(function(t){var e=z(this);""!=(t=b(t))?("#"==P(t,0)&&(t=U(t,1)),e.fragment="",Bt(e,t,jt)):e.fragment=null}))}),f(Ut,"toJSON",(function(){return u(Ht,this)}),{enumerable:!0}),f(Ut,"toString",(function(){return u(Ht,this)}),{enumerable:!0}),I){var ne=I.createObjectURL,ie=I.revokeObjectURL;ne&&f(Mt,"createObjectURL",h(ne,I)),ie&&f(Mt,"revokeObjectURL",h(ie,I))}k(Mt,"URL"),r({global:!0,forced:!a,sham:!o},{URL:Mt})},720:function(t,e,n){"use strict";var i=n(16),r=n(3),o=n(13),a=n(5),s=n(135),h=n(213),u=n(212),c=n(22),l=n(92),f=Object.assign,d=Object.defineProperty,p=r([].concat);t.exports=!f||a((function(){if(i&&1!==f({b:1},f(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=f({},t)[n]||"abcdefghijklmnopqrst"!=s(f({},e)).join("")}))?function(t,e){for(var n=c(t),r=arguments.length,a=1,f=h.f,d=u.f;r>a;)for(var g,v=l(arguments[a++]),m=f?p(s(v),f(v)):s(v),y=m.length,w=0;y>w;)g=m[w++],i&&!o(d,v,g)||(n[g]=v[g]);return n}:f},721:function(t,e,n){"use strict";var i=n(1),r=n(3),o=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",h=i.RangeError,u=r(a.exec),c=Math.floor,l=String.fromCharCode,f=r("".charCodeAt),d=r([].join),p=r([].push),g=r("".replace),v=r("".split),m=r("".toLowerCase),y=function(t){return t+22+75*(t<26)},w=function(t,e,n){var i=0;for(t=n?c(t/700):t>>1,t+=c(t/e);t>455;i+=36)t=c(t/35);return c(i+36*t/(t+38))},b=function(t){var e,n,i=[],r=(t=function(t){for(var e=[],n=0,i=t.length;n<i;){var r=f(t,n++);if(r>=55296&&r<=56319&&n<i){var o=f(t,n++);56320==(64512&o)?p(e,((1023&r)<<10)+(1023&o)+65536):(p(e,r),n--)}else p(e,r)}return e}(t)).length,o=128,a=0,u=72;for(e=0;e<t.length;e++)(n=t[e])<128&&p(i,l(n));var g=i.length,v=g;for(g&&p(i,"-");v<r;){var m=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=o&&n<m&&(m=n);var b=v+1;if(m-o>c((2147483647-a)/b))throw h(s);for(a+=(m-o)*b,o=m,e=0;e<t.length;e++){if((n=t[e])<o&&++a>2147483647)throw h(s);if(n==o){for(var k=a,S=36;;S+=36){var x=S<=u?1:S>=u+26?26:S-u;if(k<x)break;var C=k-x,z=36-x;p(i,l(y(x+C%z))),k=c(C/z)}p(i,l(y(k))),u=w(a,b,v==g),a=0,++v}}++a,++o}return d(i,"")};t.exports=function(t){var e,n,i=[],r=v(g(m(t),a,"."),".");for(e=0;e<r.length;e++)n=r[e],p(i,u(o,n)?"xn--"+b(n):n);return d(i,".")}},722:function(t,e,n){var i=n(52),r=Math.floor,o=function(t,e){var n=t.length,h=r(n/2);return n<8?a(t,e):s(t,o(i(t,0,h),e),o(i(t,h),e),e)},a=function(t,e){for(var n,i,r=t.length,o=1;o<r;){for(i=o,n=t[o];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==o++&&(t[i]=n)}return t},s=function(t,e,n,i){for(var r=e.length,o=n.length,a=0,s=0;a<r||s<o;)t[a+s]=a<r&&s<o?i(e[a],n[s])<=0?e[a++]:n[s++]:a<r?e[a++]:n[s++];return t};t.exports=o}}]);